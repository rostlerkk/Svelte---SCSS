"use strict";$("#intro > p").text("loading configuration"),pano.on("tilesready",(function(){}));var productData={};let productDataNew={};var tmpID,vid,patchName,housesData={},productUrl="",housesUrl="",currentNode="",ToolTips=[],lang="",videoDuration=0,videoDurationHalf=0,play=!0,dataModelUpdating=!1,houseID="";const loader='<div id="progress"><img src="images/loader.svg" class="hotspot-loader"><p class="status">načítavam ... </p></div>';let allVideos=["Exterier_01","Exterier_02","Exterier_03","Exterier_04","Exterier_05","Exterier_06","Exterier_07","Exterier_08","Exterier_09","Exterier_10","Exterier_11","Exterier_12","Exterier_13","Interier_01","Interier_02","Interier_03","Interier_04","Interier_05","Interier_06","Interier_07","Interier_08","Interier_09","Interier_11","Interier_12","Interier_13"];var productNameSave="",moreInfoButton={cz:"Více info",sk:"Viac info",uk:"More info"},productLang="",noData="No data in API";const map_iframe={int:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2676.1689258579618!2d16.086289315334593!3d47.87505657738802!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDfCsDUyJzMwLjIiTiAxNsKwMDUnMTguNSJF!5e0!3m2!1scz!2ssk!4v1630570707855!5m2!1sen!2sen",en:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2676.1689258579618!2d16.086289315334593!3d47.87505657738802!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDfCsDUyJzMwLjIiTiAxNsKwMDUnMTguNSJF!5e0!3m2!1scz!2ssk!4v1630570707855!5m2!1sen!2sen",de:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2676.1689258579618!2d16.086289315334593!3d47.87505657738802!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDfCsDUyJzMwLjIiTiAxNsKwMDUnMTguNSJF!5e0!3m2!1scz!2ssk!4v1630570707855!5m2!1sde!2sde",at:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2676.1689258579618!2d16.086289315334593!3d47.87505657738802!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDfCsDUyJzMwLjIiTiAxNsKwMDUnMTguNSJF!5e0!3m2!1scz!2ssk!4v1630570707855!5m2!1sde!2sde",ch:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2676.1689258579618!2d16.086289315334593!3d47.87505657738802!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDfCsDUyJzMwLjIiTiAxNsKwMDUnMTguNSJF!5e0!3m2!1scz!2ssk!4v1630570707855!5m2!1sde!2sde",sk:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2676.1689258579618!2d16.086289315334593!3d47.87505657738802!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDfCsDUyJzMwLjIiTiAxNsKwMDUnMTguNSJF!5e0!3m2!1scz!2ssk!4v1630570707855!5m2!1ssk!2ssk"},apiToken={cz:"ZsqPYpxsPHK3EpNwK6l7nOOyoTHIrw21Aw2pAh10BfV3mSl8he06rz1IsJNA",sk:"uuPus1j6IOdtp9p5EKzpusgd2TlXMuDK7C33qC8yof4IvMNCyzIPQEV9dfSI",at:"EJVpr39eQqgZ3CtFudtsOA3QurptILYv6aLjQvOh9DX8VoAvNrRthOJyBXAu",de:"bF6JRVySe9U1xOMWi2Kc8I5pzzgZcjT9LG0F1PrmDkOPHI9nKUBv5It3bjlY",hr:"KdZMZzWIYcj4AVjJ3VK6WvV2zCCQfx5jzDqgXk1A1Er013JaTbqlSuDLPcTZ",rs:"FEVesKJGbx1bEm9hsXijIZwV9E332FtvbFA01YxtKjEi1Sw3AMdT6Gp1uFMk",si:"izOhuLDDFGmEeOTxj3s3x31ZTjgI4Ck5zfqK3X5cAlpgPW5piIxtGwtdX2ZH",ba:"Sjuab7GbAKhg6XNFGkQgLJEJXAxQ6Omwru89ErJ48AfX5uvncjpyjdx4K9xY",int:"AP7R6yAeBytyvc0OASz3RhLrAH2CsCGnNDWTeLBAbyW72sMPRCiw4JAKDTz0",ua:"COyMGTwBy8YgEyZanLTWyTuaoGbDpTOB13BNAHAqDNLgU7PzbGouJKYcfZIo",fr:"e2AwJInW59w310Ve0DUEBRLL1Je8eqkf4BTTHwtCbz2YIwjXS20TaMpPHdum",es:"k2Mb4GufP8ED3B5wRQelPHY9NimPax2VDd8utmZKLNYc3IwdGuCiZRwe7fvF",cn:"Wf4qqUqX5qoPSvT0EzQezjt2ieaIIOUTNSmHT9VPwCDbJ1tqgmN5E32RuOSz",gr:"DADpDgerXpQ2QchZMpjN6Rsrx4q1s7m9r1AW4hcpWi2bH9DBfP2j998gJgKl",hu:"zG3XR4VrL5ZWh7rQlCydbGd0ysYmCziX0VOhyhEx7A3xmE9fysWf9uYhrRQR",tr:"RxX7fNvn9yiRmB3iGZtDYyyiMTA9nUmqXZg7dCoXP55XnOyvXJKEjr12iuhe",ro:"mrsKaiGNc28HA49VDcZjEnof8uvjJBa4pd45M6McUq0wR8T6gYWCDgsAy3i9",uk:"xF8BmqraDqPNxx4LfcepYpqGde0oPbu7kRtARznJxxFTiD1PukPbcdZl9cPg",it:"UYgEsu0OxQv8zkgPnOiVLh0TTGD0aiYe2GVog2o7ithQ8fadPYRr40GNOxDY",pl:"4vtMautl3wPGnzZLogvUE6x7tZkweWzo7vQBXJCVjZbtjxigxue33NRCahrR",lv:"UBP0CW3yVvzlw24fmTgFrXIya84dV4rEQIjaCJT4G35BdMRbiVvIYdVb4cSQ",ru:"llN4GmBb0uWIQlr9lyfaF7qR7DmDs733Fp8wkiJs0sduzwoEG9NBvqYpSONe",by:"xARlEVKEW4lpeuyGt8Hb8LnY63P9SjMopyEKlemGSOTzsGZ1MD6wIZvCGBs0",bg:"cEyeSbL3VQDR9kLRUCWuHIqOT5ID59T05VVbNNbkm0bylEylgIfsDBvpAgqJ",lt:"jgqtiedWmx17W0csUqPuaYNf1JqOCAytsdec8k739pljn83OEBft2vixQ9jn",ee:"7c0WUsKukTHuIw2rix2E7eRfn9wVSrd89hwNJLgtBz4JfHUh2UPclt4bQvZI",mk:"JhFW6xr1bV0HjEhyCv4pIvK3X9ZMPsa25YaNkjlAPQL2izaZwvaWMNagpO00",beNl:"cqElSqSIpHckBG14OZAxTIzUlA4i2lIHaFzMNVYgTW5zfOeyk6FiMIWU1FtP",ch:"PoCX0p3qavOP4RL8Ke7ZiGUhidi6iT69zZ7QHNo8OOiatgjdES4iDXqeEz9p",md:"M3Amm8ZznQ3BoROYdKeq2iEtwSjPoFc9Egf4wV8JerAMnkQvbzakElhNHCIS",beFr:"M73nHM2cKlyK8WRkmNjGHhhEtgpq5xrvBcwgxrpXCZLoEFyiiLhxaeRTpdt2"},productSuffix={cz:"BCZ",sk:"BSK",at:"BAT",de:"BDE",hr:"BHR",rs:"BRS",si:"BSI",ba:"BBA",int:"INT",ua:"BUA",fr:"BFR",es:"BES",cn:"BCN",gr:"BGR",hu:"BHU",tr:"BTR",ro:"BRO",uk:"BUK",it:"BIT",pl:"BPL",lv:"BLV",ru:"BRU",by:"BBY",bg:"BBG",lt:"BLT",ee:"BEE",mk:"BMK",beNl:"BBE",ch:"BCH",md:"BRO",beFr:"BBE"},urlPrefix={en:"https://baumit.co.uk",sk:"https://baumit.sk",cz:"https://baumit.cz",at:"https://baumit.at",de:"https://baumit.de",hr:"https://baumit.hr",rs:"https://baumit.rs",si:"https://baumit.si",ba:"https://baumit.ba",ua:"https://baumit.ua",fr:"https://baumit.fr",es:"https://baumit.es",cn:"https://baumit.cn",gr:"https://baumit.gr",hu:"https://baumit.hu",tr:"https://baumit.com.tr",ro:"https://baumit.ro",uk:"https://baumit.co.uk",it:"https://baumit.it",pl:"https://baumit.pl",lv:"https://baumit.lv",ru:"https://baumit.ru",by:"https://baumit.by",bg:"https://baumit.bg",lt:"https://baumit.lt",ee:"https://baumit.ee",mk:"https://baumit.mk",nl:"https://baumit.nl",ch:"https://baumit.ch",md:"https://baumit.md",beNl:"https://baumit.be",beFr:"https://fr.baumit.be",int:"https://int.baumit.com"};function getProductLink(e){return productUrl=urlPrefix[e]+"/api/products/products?api_token="+apiToken[e]}function getHousesLink(e){return housesUrl=urlPrefix[e]+"/api/buildings?api_token="+apiToken[e]}function addLoader(e){$("#progress").length<1?($("#container").append(loader),$("p.status").text(e)):$("p.status").text(e)}function loadProductData_backup(e,a){if(addLoader("loading products data"),null==productData[a]||null==productData[a]||""==productData[a]){productData[a]={};$.getJSON(e,(function(e){$.each(e,(function(t,n){var o=e[t].pro_epim_productnr;productData[a][o]=n}))})).done((function(){getHousesLink(a),loadHousesData(housesUrl,a)})).fail((function(){}))}else checkHotspots(),loadIntroData()}function loadProductData(e,a){if(addLoader("loading products data"),null==productData[a]||null==productData[a]||""==productData[a]){productData[a]={};$.getJSON(e,(function(e){$.each(e,(function(e,t){"buildings"==e&&$.each(t,(function(e,t){null!=t.layers&&$.each(t.layers,(function(e,t){let n=t.products.pro_epim_productnr;null!=productData[a][n]&&"undefined"!=productData[a][n]||(productData[a][n]={}),productData[a][n].id=t.products.pro_epim_productnr,productData[a][n].name=t.products.name,productData[a][n].details_url=t.products.details_url,productData[a][n].description=t.products.description,productData[a][n].image=t.products.image;for(let e=0;e<10;e++)t.products["product_benefit_"+e]&&(productData[a][n]["product_benefit_"+e]=t.products["product_benefit_"+e])}))}))}))})).done((function(){getHousesLink(a),loadHousesData(e,a)})).fail((function(){}))}else checkHotspots(),loadIntroData()}function change_floorplan_node_title(e,a){e[a]&&$.each($(".ggskin_cloner > div"),(function(){switch($(this).index()){case 0:break;default:$(this).find("div > div > p").html(e[a].buildings[$(this).index()-1].house_nr);break}}))}function loadHousesData(e,a){if(addLoader("loading houses data"),null==housesData[a]||null==housesData[a]||""==housesData[a]){housesData[a]={};$.getJSON(e,(function(e){$.each(e,(function(e,t){"buildings"==e?housesData[a].buildings=t:"additional_content"==e&&(housesData[a].additional_content=t)}))})).done((function(){changePanoTitle(a,housesData),checkHotspots(),loadIntroData(),$.each($(".swiper-slide"),(function(){switch($(this).attr("data-url")){case"node1":$(this).find(".node-title").html("Viva Park");break;default:$(this).find(".node-title").html(housesData[a].buildings[$(this).index()-1].house_nr);break}})),change_floorplan_node_title(housesData,pano.getVariableValue("lang")),removeIntroAnimation(),$(".orientation-button.model-off > div").html("Interactive 3D model"),housesData[a].additional_content&&housesData[a].additional_content[26]&&housesData[a].additional_content[26].title&&$(".orientation-button.model-off > div").html(housesData[a].additional_content[26].title),null!=map_iframe[a]&&"undefined"!=map_iframe[a]&&null!=map_iframe[a]?(pano.setVariableValue("map_iframe",map_iframe[a]),$(".map > iframe").attr("src",map_iframe[a])):(pano.setVariableValue("map_iframe",map_iframe.int),$(".map > iframe").attr("src",map_iframe.int))})).fail((function(){}))}else checkHotspots(),$("#progress").remove()}function playPauseMedia(){0==videoDuration||0==videoDurationHalf||1==pano.isPlaying(patchName)||(vid.ontimeupdate=function(){if(1==play||0==pano.isPlaying(patchName)){if(this.currentTime>=videoDurationHalf)return pano.pauseSound(patchName),play=!1,$(".viva-tooltip").removeClass("hidden"),!1}else hideTooltips(),pano.getMediaObject(patchName).addEventListener("ended",(function(){play=!0,hideTooltips()}))},pano.playSound(patchName,"1"))}function hideTooltips(){var e=ToolTips.length;for(let a=0;a<e;a++)ToolTips[a].addClass("hidden")}function removeIntroAnimation(){pano.setVariableValue("blurred",!1),pano.setVariableValue("intro",!1),addClass([".mobile-footer"],"active"),$("#intro").fadeOut("slow",(function(){$(this).remove()}))}let pointshotspots,pointshotspotsNew;function checkHotspots(){addLoader("loading hotspots data");let e=pano.getCurrentPointHotspots(),a=[];for(let t=0;t<e.length;t++)e[t].className.indexOf("viva-tooltip")>0&&a.push(e[t]);let t,n=pano.getNodeUserdata(currentNode).source;t=pano.getNodeUserdata(currentNode).title.indexOf("Interier")>=0?"interior":"exterior";for(let e=0;e<a.length;e++)housesValues[lang][n][t][e+1]&&"undefined"!=housesValues[lang][n][t][e+1]?(-1==housesValues[lang][n][t][e+1].id?$(".viva-tooltip").eq(a.length-e-1).attr("data-open","no").children(".triangle-left").removeClass("hover"):$(".viva-tooltip").eq(a.length-e-1).attr("data-open","true").children(".triangle-left").addClass("hover"),$(".viva-tooltip").eq(a.length-e-1).children().children().html(housesValues[lang][n][t][e+1].name),$(".viva-tooltip").eq(a.length-e-1).removeClass("removed"),$(".viva-tooltip").eq(a.length-e-1).attr("data-product",e+1).attr("data-position",t)):$(".viva-tooltip").eq(a.length-e-1).addClass("removed");$("#progress").remove()}function checkHotspots_backup(){addLoader("loading hotspots data"),$("#progress").remove()}function checkHotspots2(){addLoader("loading hotspots data");for(var e,a=pano.getCurrentPointHotspots(),t=a.length,n=(pano.getVariableValue("lang"),0);n<t;n++)if(a[n].className.indexOf("delete")<0&&(a[n].className=a[n].className+" delete"),a[n].className.indexOf("viva-tooltip")>-1&&""!=(e=a[n].textContent.substring(a[n].textContent.indexOf("|")+1))&&(a[n].className.indexOf(e)>=0||(a[n].className=a[n].className+" "+e,$("."+e).attr("data-id",e))),""!=e){var o=e+productSuffix[lang];if(null==productData[lang][o]||null==productData[lang][o]||""==productData[lang][o]);else{var i='<div class="hts-title">'+productData[lang][o].name+"</div><span>|"+e+"</span>";$('.viva-tooltip[data-id="'+e+'"] > div > div').html(i),a[n].className=a[n].className.replace("delete","")}}else a.splice(n,1),n--;null==housesData[lang].additional_content[18]||null==housesData[lang].additional_content[18]||"undefined"==housesData[lang].additional_content[18]?$("p.status").text("loading panorama"):$("p.status").text(housesData[lang].additional_content[18].text),pano.on("tilesready",(function(){$("#progress").remove()}))}function nacitajData(e,a,t,n){if(productNameSave==a&&productLang==pano.getVariableValue("lang")&&"no"!=n)$(".hotspot-loader").remove(),pano.setVariableValue("infopanel",!0);else if(""==a||null==a||null==a||"no"==n);else{$(".info-v1 > .head > .content > h2").empty();let e=pano.getNodeUserdata(currentNode).source;$(".info-v1 > .head > .content > h2").html(housesValues[lang][e][t][a].name),$(".info-v1 > .head > .content > a").remove();var o=urlPrefix[lang]+housesValues[lang][e][t][a].details_url,i=document.createElement("a");$(".info-v1 > .head > .content").append(i),null==housesData[lang].additional_content[24]||null==housesData[lang].additional_content[24]||"undefined"==housesData[lang].additional_content[24]?$(".info-v1 > .head > .content > a").attr("href",o).attr("target","_blank").text(moreInfoButton.uk):$(".info-v1 > .head > .content > a").attr("href",o).attr("target","_blank").text(housesData[lang].additional_content[24].title),$(".content > ul").empty(),$.each(housesValues[lang][e][t][a],(function(e,a){var t="";(t=e).includes("product_benefit")&&t.indexOf("description")<1&&$(".content > ul").append("<li><span>"+a+"</span></li>")})),$(".info-v1 > .body > p").empty(),$(".info-v1 > .body > p").html(housesValues[lang][e][t][a].description),$(".info-v1 > .head > .baumit-img > img").remove();let n="https://int.baumit.com/"+housesValues[lang][e][t][a].image;$(".info-v1 > .head > .baumit-img").append("<img class='baumit-img' src='"+n+"'/>"),pano.setVariableValue("infopanel",!0),lang=pano.getVariableValue("lang"),productNameSave=a}}function showVivaIntro(){"node1"==currentNode&&0==pano.getVariableValue("floorplan_full")?$(".viva-start").removeClass("hidden"):$(".viva-start").addClass("hidden")}function houseInfo(e){if($(".viva-start").addClass("hidden"),$(".viva-house-info > div > .content > h1").removeClass("hidden"),$(".viva-house-info > div > .content > .row").removeClass("hidden"),100!==houseID){if($("#house-url").addClass("hidden"),$(".viva-house-info > div > .content > h1").empty(),$(".viva-house-info > div > .content > .headline").empty(),$(".viva-house-info > div > .content > .row > p").empty(),$("#yt").attr("src",""),$("#yt-video").addClass("hidden"),0==e)0==housesData[lang].additional_content.length?($(".viva-house-info > div > .content > .row > p").text(noData),$("#viva-second").addClass("hidden")):(housesData[lang].additional_content[23]?($(".viva-house-info > div > .content > h1").text(housesData[lang].additional_content[23].title),$(".viva-house-info > div > .content > .row > p").text(housesData[lang].additional_content[23].content)):($(".viva-house-info > div > .content > h1").text("About the VIVA Park"),$(".viva-house-info > div > .content > .row > p").text("The Viva research park is Europe’s largest research facility for comparative building material studies.  Its main objective is to exactly measure and evaluate the impact of different construction materials to living comfort by simulating a typical user behavior.")),$("#viva-second").addClass("hidden"));else{comfortLevelSwitch(e);var a=e-1;if(0==housesData[lang].buildings.length)$(".viva-house-info > div > .content > h1").text(noData),$(".viva-house-info > div > .content > .headline").removeClass("hidden").text(noData),$(".viva-house-info > div > .content > .row > p").text(noData),$("#viva-second").addClass("hidden");else{if(null==housesData[lang].buildings[a].house_nr||"undefined"==housesData[lang].buildings[a].house_nr||""==housesData[lang].buildings[a].house_nr?$(".viva-house-info > div > .content > h1").text(noData):$(".viva-house-info > div > .content > h1").text(housesData[lang].buildings[a].house_nr),null==housesData[lang].buildings[a].headline||"undefined"==housesData[lang].buildings[a].headline||""==housesData[lang].buildings[a].headline?$(".viva-house-info > div > .content > .headline").removeClass("hidden").text(noData):$(".viva-house-info > div > .content > .headline").removeClass("hidden").text(housesData[lang].buildings[a].headline),null==housesData[lang].buildings[a].text||"undefined"==housesData[lang].buildings[a].text||""==housesData[lang].buildings[a].text?$(".viva-house-info > div > .content > .row > p").text(noData):$(".viva-house-info > div > .content > .row > p").text(housesData[lang].buildings[a].text),""!=housesData[lang].buildings[a].link&&"undefined"!=housesData[lang].buildings[a].link){var t=housesData[lang].buildings[a].link;if(housesData[lang].additional_content[24]?$("#house-url").attr("href",t).text(housesData[lang].additional_content[24].text):$("#house-url").attr("href",t).text(moreInfoButton[uk]),null==housesData[lang].additional_content[19]||null==housesData[lang].additional_content[19]||"undefined"==housesData[lang].additional_content[19]){let e,a=pano.getNodeUserdata(currentNode).source,o=pano.getNodeUserdata(currentNode).title;var n=urlPrefix[lang]+housesValues[lang][a].link;e=o.indexOf("Interier")>=0?"interior":"exterior",$(".info-v1 > .head > .content > a").attr("href",n).attr("target","_blank").text(moreInfoButton.uk),$("#house-url").attr("href",t).text(moreInfoButton.uk)}else $(".info-v1 > .head > .content > a").attr("href",n).attr("target","_blank").text(housesData[lang].additional_content[19].title),$("#house-url").attr("href",t).text(housesData[lang].additional_content[19].title);$("#house-url").removeClass("hidden")}if(""!=housesData[lang].buildings[a].media&&"undefined"!=housesData[lang].buildings[a].media&&null!=housesData[lang].buildings[a].media){pano.setVariableValue("houseInfo",!0);var o="https://www.youtube.com/embed/"+housesData[lang].buildings[a].media.replace("https://youtu.be/",""),i=$("#yt-video").width()/16*9;$("#yt").attr("src",o).css({height:i}),$("#yt-video").removeClass("hidden")}}null!=housesData[lang].buildings[a]||housesData[lang].buildings[a]}houseID=e,$("#progress").remove()}pano.setVariableValue("houseInfo",!0)}function comfortLevel(e){window.randomize=function(){$(".ko-progress-circle").attr("data-progress",e)},setTimeout(window.randomize,200),$(".ko-progress-circle").click(window.randomize)}function comfortLevelSwitch(e){if("node1"==currentNode)$("#viva-second").addClass("hidden");else{var a=e-1;if(0==housesData[lang].buildings.length)$("#viva-second").addClass("hidden");else if(null==housesData[lang].buildings[a].house_comfort||"undefined"==housesData[lang].buildings[a].house_comfort||""==housesData[lang].buildings[a].house_comfort)$("#viva-second").addClass("hidden");else{var t=housesData[lang].buildings[a].house_comfort;switch(t){case"High":$("#viva-second").removeClass("hidden"),$(".house-tooltip-inner").text("High"),comfortLevel(100);break;case"Low":$("#viva-second").removeClass("hidden"),$(".house-tooltip-inner").text("Low"),comfortLevel(30);break;case"Medium":$("#viva-second").removeClass("hidden"),$(".house-tooltip-inner").text("Medium"),comfortLevel(60);break;case"":$("#viva-second").addClass("hidden"),comfortLevel(0);break;default:$("#viva-second").removeClass("hidden"),$(".house-tooltip-inner").text(t),comfortLevel(5);break}}}}function updateComfortLevel(){$.each($(".check-layer > div > span"),(function(){var e=parseInt($(this).attr("id")),a=pano.getVariableValue("lang");e>0&&e--;var t=housesData[a].buildings[e].house_comfort,n=0;switch(t){case"High":n=100;break;case"Low":n=30;break;case"Medium":n=60;break;case null:n=0;break;case"":$("#viva-second").addClass("hidden"),comfortLevel(0);break;case"undefined":$("#viva-second").addClass("hidden"),comfortLevel(0);break}$(this).next(".ko-progress-circle").attr("data-progress",n),null==t||null==t||""==t?($(this).siblings(".tooltip-level").remove(),$(this).siblings(".ko-progress-circle").remove()):$(this).siblings(".tooltip-level").text(t)}))}function loadIntroData(){0==housesData[lang].additional_content.length?($(".viva-start .title > div > h1").text(noData),$(".viva-start .title > div > span.subtitle").text(noData),$("#quickTour").text(noData),$("#results").text(noData),$("#about").text(noData),$(".viva-start .logo > div > img").attr("src","images/vivapark-logo.svg"),$(".viva-start").removeClass("hidden")):($(".viva-start .title > div > h1").text(housesData[lang].additional_content[8].title),$(".viva-start .title > div > span.subtitle").text(housesData[lang].additional_content[8].content),$("#quickTour").text(housesData[lang].additional_content[9].title),$("#results").text(housesData[lang].additional_content[10].title),$("#about").text(housesData[lang].additional_content[11].title),$(".viva-start .logo > div > img").attr("src","images/vivapark-logo.svg"),$(".viva-start").removeClass("hidden"))}function tagInfo(e){switch($(".headline").addClass("hidden"),$("#viva-second").addClass("hidden"),$("#yt-video").addClass("hidden"),$("#house-url").addClass("hidden"),$(".viva-house-info > div > .content > h1").removeClass("hidden"),$(".viva-house-info > div > .content > .row").removeClass("hidden"),e){case"Air Supply":if(housesData[lang].additional_content.length>0&&null!=housesData[lang].additional_content[1].content){var a=housesData[lang].additional_content[1].title,t=housesData[lang].additional_content[1].content;$(".viva-house-info > div > .content > h1").text(a),$(".viva-house-info > div > .content > .row > p").text(t)}else $(".viva-house-info > div > .content > h1").text(noData),$(".viva-house-info > div > .content > .row > p").text(noData);break;case"Global Temperature Sensor":if(housesData[lang].additional_content.length>0&&null!=housesData[lang].additional_content[3].content){a=housesData[lang].additional_content[3].title,t=housesData[lang].additional_content[3].content;$(".viva-house-info > div > .content > h1").text(a),$(".viva-house-info > div > .content > .row > p").text(t)}else $(".viva-house-info > div > .content > h1").text(noData),$(".viva-house-info > div > .content > .row > p").text(noData);break;case"Humidifier":if(housesData[lang].additional_content.length>0&&null!=housesData[lang].additional_content[0].content){a=housesData[lang].additional_content[0].title,t=housesData[lang].additional_content[0].content;$(".viva-house-info > div > .content > h1").text(a),$(".viva-house-info > div > .content > .row > p").text(t)}else $(".viva-house-info > div > .content > h1").text(noData),$(".viva-house-info > div > .content > .row > p").text(noData);break;case"Air Exhaust":if(housesData[lang].additional_content.length>0&&null!=housesData[lang].additional_content[2].content){a=housesData[lang].additional_content[2].title,t=housesData[lang].additional_content[2].content;$(".viva-house-info > div > .content > h1").text(a),$(".viva-house-info > div > .content > .row > p").text(t)}else $(".viva-house-info > div > .content > h1").text(noData),$(".viva-house-info > div > .content > .row > p").text(noData);break;case"Built-in sensors":if(housesData[lang].additional_content.length>0&&null!=housesData[lang].additional_content[13].content){a=housesData[lang].additional_content[13].title,t=housesData[lang].additional_content[13].content;$(".viva-house-info > div > .content > h1").text(a),$(".viva-house-info > div > .content > .row > p").text(t)}else $(".viva-house-info > div > .content > h1").text(noData),$(".viva-house-info > div > .content > .row > p").text(noData);break;case"Temperature sensor":if(housesData[lang].additional_content.length>0&&null!=housesData[lang].additional_content[14].content){a=housesData[lang].additional_content[14].title,t=housesData[lang].additional_content[14].content;$(".viva-house-info > div > .content > h1").text(a),$(".viva-house-info > div > .content > .row > p").text(t)}else $(".viva-house-info > div > .content > h1").text(noData),$(".viva-house-info > div > .content > .row > p").text(noData);break;case"InteriorValues":if(housesData[lang].additional_content.length>0&&null!=housesData[lang].additional_content[6].content){a=housesData[lang].additional_content[6].title,t=housesData[lang].additional_content[6].content;if($(".viva-house-info > div > .content > h1").text(a),$(".viva-house-info > div > .content > .row > p").text(t),""!=housesData[lang].additional_content[6].media&&"undefined"!=housesData[lang].additional_content[6].media&&null!=housesData[lang].additional_content[6].media){pano.setVariableValue("houseInfo",!0);var n="https://www.youtube.com/embed/"+housesData[lang].additional_content[6].media.replace("https://youtu.be/",""),o=$("#yt-video").width()/16*9;$("#yt").attr("src",n).css({height:o}),$("#yt-video").removeClass("hidden")}}else $(".viva-house-info > div > .content > h1").text(noData),$(".viva-house-info > div > .content > .row > p").text(noData);break;case"Solidity":if(housesData[lang].additional_content.length>0&&null!=housesData[lang].additional_content[5].content){a=housesData[lang].additional_content[5].title,t=housesData[lang].additional_content[5].content;if($(".viva-house-info > div > .content > h1").text(a),$(".viva-house-info > div > .content > .row > p").text(t),""!=housesData[lang].additional_content[5].media&&"undefined"!=housesData[lang].additional_content[5].media&&null!=housesData[lang].additional_content[5].media){pano.setVariableValue("houseInfo",!0);n="https://www.youtube.com/embed/"+housesData[lang].additional_content[5].media.replace("https://youtu.be/",""),o=$("#yt-video").width()/16*9;$("#yt").attr("src",n).css({height:o}),$("#yt-video").removeClass("hidden")}}else $(".viva-house-info > div > .content > h1").text(noData),$(".viva-house-info > div > .content > .row > p").text(noData);break;case"Insulation":if(housesData[lang].additional_content.length>0&&null!=housesData[lang].additional_content[4].content){a=housesData[lang].additional_content[4].title,t=housesData[lang].additional_content[4].content;if($(".viva-house-info > div > .content > h1").text(a),$(".viva-house-info > div > .content > .row > p").text(t),""!=housesData[lang].additional_content[4].media&&"undefined"!=housesData[lang].additional_content[4].media&&null!=housesData[lang].additional_content[4].media){pano.setVariableValue("houseInfo",!0);n="https://www.youtube.com/embed/"+housesData[lang].additional_content[4].media.replace("https://youtu.be/",""),o=$("#yt-video").width()/16*9;$("#yt").attr("src",n).css({height:o}),$("#yt-video").removeClass("hidden")}}else $(".viva-house-info > div > .content > h1").text(noData),$(".viva-house-info > div > .content > .row > p").text(noData);break;case"Monitor":if(housesData[lang].additional_content.length>0&&($(".viva-house-info > div > .content > h1").addClass("hidden"),$(".viva-house-info > div > .content > .row").addClass("hidden"),""!=housesData[lang].additional_content[7].media&&"undefined"!=housesData[lang].additional_content[7].media&&null!=housesData[lang].additional_content[7].media)){pano.setVariableValue("houseInfo",!0);n="https://www.youtube.com/embed/"+housesData[lang].additional_content[7].media.replace("https://youtu.be/",""),o=$("#yt-video").width()/16*9;$("#yt").attr("src",n).css({height:o}),$("#yt-video").removeClass("hidden")}break}pano.setVariableValue("houseInfo",!0)}let housesValues={};function getHousesValues(e,a,t,n){if(addLoader("loading products data"),null==housesValues[e]||null==housesValues[e]||""==housesValues[e]){housesValues[e]={};$.getJSON(t,(function(a){$.each(a,(function(a,t){"buildings"==a&&$.each(t,(function(a,t){null!=housesValues[e][a+1]&&"undefined"!=housesValues[e][a+1]||(housesValues[e][a+1]={});let n=["house_nr","headline","house_comfort","text","link","media"];for(let o=0;o<n.length;o++)housesValues[e][a+1][n[o]]=t[n[o]];if(housesValues[e][a+1].exterior={},housesValues[e][a+1].interior={},t.layers){let n=["name","description","image","details_url","product_benefit_1","product_benefit_2","product_benefit_3","id"];$.each(t.layers,(function(t,o){function i(t,n,o){for(let i=0;i<o.length;i++)housesValues[e][a+1][n][t.name.substring(1)][o[i]]=t.products[o[i]]}o.name.indexOf("E")>-1&&(housesValues[e][a+1].exterior[o.name.substring(1)]||(housesValues[e][a+1].exterior[o.name.substring(1)]={}),i(o,"exterior",n)),o.name.indexOf("I")>-1&&(housesValues[e][a+1].interior[o.name.substring(1)]||(housesValues[e][a+1].interior[o.name.substring(1)]={}),i(o,"interior",n))}))}}))}))})).done((function(){getHousesLink(e),loadHousesData(t,e),house_8_texts(e,n)})).fail((function(){}))}else checkHotspots(),loadIntroData()}function house_8_texts(e,a){"node24"==pano.getCurrentNode()&&housesData[lang]&&(housesData[lang].additional_content[5].title?$(".helper-text.solidity").html(housesData[lang].additional_content[5].title):$(".helper-text.solidity").html("Solidity counts"),housesData[lang].additional_content[4].title?$(".helper-text.insulation").html(housesData[lang].additional_content[4].title):$(".helper-text.insulation").html("Insulation first"),housesData[lang].additional_content[6].title?$(".helper-text.interior-values").html(housesData[lang].additional_content[6].title):$(".helper-text.interior-values").html("Interior values"))}function changePanoTitle(e,a){let t=pano.getNodeUserdata(pano.getCurrentNode()).source,n=$(".header > .title > div");switch(e=pano.getVariableValue("lang"),t){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"10":case"11":case"12":case"13":a[e]&&n.text(a[e].buildings[parseInt(t)-1].house_nr);break;case"0":n.text("Viva park");break}$.each($(".hts-np"),(function(){let t,n=$(this).children(".np-title").children("div").html();if(n.indexOf("_")>0?t=n.substr(n.indexOf("_")+1):n.indexOf(".")>0&&(t=n.substr(n.indexOf(".")+1).replace(" ","")),a[e]){switch(t){case"01":case"1":$(this).children(".np-title").children("div").html(a[e].buildings[0].house_nr);break;case"02":case"2":$(this).children(".np-title").children("div").html(a[e].buildings[1].house_nr);break;case"03":case"3":$(this).children(".np-title").children("div").html(a[e].buildings[2].house_nr);break;case"04":case"4":$(this).children(".np-title").children("div").html(a[e].buildings[3].house_nr);break;case"05":case"5":$(this).children(".np-title").children("div").html(a[e].buildings[4].house_nr);break;case"06":case"6":$(this).children(".np-title").children("div").html(a[e].buildings[5].house_nr);break;case"07":case"7":$(this).children(".np-title").children("div").html(a[e].buildings[6].house_nr);break;case"08":case"8":$(this).children(".np-title").children("div").html(a[e].buildings[7].house_nr);break;case"09":case"9":$(this).children(".np-title").children("div").html(a[e].buildings[8].house_nr);break;case"10":case"10":$(this).children(".np-title").children("div").html(a[e].buildings[9].house_nr);break;case"11":case"11":$(this).children(".np-title").children("div").html(a[e].buildings[10].house_nr);break;case"12":case"12":$(this).children(".np-title").children("div").html(a[e].buildings[11].house_nr);break;case"13":case"13":$(this).children(".np-title").children("div").html(a[e].buildings[12].house_nr);break;case"00":$(this).children(".np-title").children("div").html("Viva park");break}house_8_texts()}else;})),a[e]&&$.each($(".swiper-slide"),(function(){switch($(this).attr("data-url")){case"node1":$(this).find(".node-title").html("Viva Park");break;default:$(this).find(".node-title").html(a[e].buildings[$(this).index()-1].house_nr);break}}))}function change_tooltip_names(e,a){let t="Go inside",n="Wall components",o="House info";if(housesData[lang]){housesData[lang].additional_content||(housesData[lang].additional_content[20]&&housesData[lang].additional_content[20].text&&(t=housesData[lang].additional_content[20].text),housesData[lang].additional_content[21]&&housesData[lang].additional_content[21].text&&(n=housesData[lang].additional_content[21].text),housesData[lang].additional_content[22]&&housesData[lang].additional_content[22].text&&(o=housesData[lang].additional_content[22].text),housesData[lang].additional_content[25]&&housesData[lang].additional_content[25].text&&(o=housesData[lang].additional_content[25].text));let e=["hts-ext-layer","hts-ext-info","hts-ext-door","hts-int-layer","hts-int-info","hts-int-door"];for(let a=0;a<e.length;a++)switch(a){case 0:$("."+e[a]+" > .layer-tooltip > div").html(n);break;case 1:$("."+e[a]+" > .layer-tooltip > div").html(o);break;case 2:$("."+e[a]+" > .layer-tooltip > div").html(t);break;case 3:$("."+e[a]+" > .layer-tooltip > div").html(n);break;case 4:$("."+e[a]+" > .layer-tooltip > div").html(o);break;case 5:$("."+e[a]+" > .layer-tooltip > div").html("Go outside");break}}}pano.on("configloaded",(function(e){function a(){getProductLink(lang=pano.getVariableValue("lang")),getHousesLink(lang),getHousesValues(lang,houseID,housesUrl,housesData),changePanoTitle(lang,housesData)}if($.cookie("sound"))switch($.cookie("sound")){case"false":pano.setVariableValue("sound",!1);break;case"true":break}pano.addListener("varchanged_sound",(function(){switch(pano.getVariableValue("sound")){case!0:$.cookie("sound","true");break;case!1:$.cookie("sound","false");break}})),function(e){if(null!=$.cookie("user_language")&&"undefined"!=$.cookie("user_language")&&null!=$.cookie("user_language"))$.cookie("user_language").substr($.cookie("user_language").indexOf("=")+1),pano.setVariableValue("lang",$.cookie("user_language").substr($.cookie("user_language").indexOf("=")+1)),a();else{let e=window.navigator.userLanguage||window.navigator.language;switch(e=e.toLowerCase(),e){case"cz":case"cs":case"cz-cz":case"cz-CZ":pano.setVariableValue("lang","cz");break;case"sk":case"sk-sk":case"sk-SK":pano.setVariableValue("lang","sk");break;case"at":case"at-at":case"de-at":pano.setVariableValue("lang","at");break;case"de":case"de-de":pano.setVariableValue("lang","de");break;case"hr":case"hr-hr":pano.setVariableValue("lang","hr");break;case"rs":case"rs-rs":case"sr":case"sr-sr":pano.setVariableValue("lang","rs");break;case"si":case"si-si":case"sl":case"sl-sl":pano.setVariableValue("lang","si");break;case"ba":case"ba-ba":pano.setVariableValue("lang","ba");break;case"ua":case"ua-ua":case"uk":case"uk-uk":pano.setVariableValue("lang","ua");break;case"fr":case"fr-fr":pano.setVariableValue("lang","fr");break;case"es":case"es-es":pano.setVariableValue("lang","es");break;case"cn":case"cn-cn":case"zh-cn":pano.setVariableValue("lang","cn");break;case"gr":case"gr-gr":case"el":case"el-el":pano.setVariableValue("lang","gr");break;case"hu":case"hu-ht":pano.setVariableValue("lang","hu");break;case"tr":case"tr-tr":pano.setVariableValue("lang","tr");break;case"ro":case"ro-ro":pano.setVariableValue("lang","ro");break;case"en-gb":case"en":pano.setVariableValue("lang","uk");break;case"it":case"it-it":pano.setVariableValue("lang","it");break;case"pl":case"pl-pl":pano.setVariableValue("lang","pl");break;case"lv":case"lv-lv":pano.setVariableValue("lang","lv");break;case"ru":case"ru-ru":pano.setVariableValue("lang","ru");break;case"by":case"by-by":case"be":case"be-be":pano.setVariableValue("lang","by");break;case"bg":case"bg-bg":pano.setVariableValue("lang","bg");break;case"lt":case"lt-lt":pano.setVariableValue("lang","lt");break;case"ee":case"ee-ee":case"et":case"et-et":pano.setVariableValue("lang","ee");break;case"mk":case"mk-mk":pano.setVariableValue("lang","mk");break;case"nl-be":pano.setVariableValue("lang","be");break;case"de-ch":pano.setVariableValue("lang","ch");break;case"ro-mo":pano.setVariableValue("lang","md");break;default:pano.setVariableValue("lang","int");break}a()}}(),$(".viva-tooltip"),pano.on("varchanged_lang",(function(){$.cookie("user_language",pano.getVariableValue("lang")),a(),change_floorplan_node_title(housesData,pano.getVariableValue("lang"))})),pano.on("changenode",(function(e){if(changePanoTitle(e,housesData),change_tooltip_names(e,housesData),showVivaIntro(),checkHotspots(),ToolTips.push($(".viva-tooltip")),hideTooltips(),change_floorplan_node_title(housesData,pano.getVariableValue("lang")),currentNode=pano.getCurrentNode(),house_8_texts(e,housesData),"node30"!=currentNode&&"node31"!=currentNode&&"node32"!=currentNode&&"node33"!=currentNode&&(patchName=pano.getNodeUserdata(currentNode).title,"node1"!=currentNode)){$(".ggskin_external").css({visibility:"hidden"}),$("#vid").attr("id",""),videoDuration=0,videoDurationHalf=0;for(var a=0;a<allVideos.length;a++)pano.setMediaVisibility(allVideos[a],0);pano.on("tilesready",(function(){play=!0,"node1"!=currentNode&&"node16"!=currentNode&&"node24"!=currentNode&&"node26"!=currentNode&&"node30"!=currentNode&&"node31"!=currentNode&&"node32"!=currentNode&&"node33"!=currentNode&&null!=pano.getMediaObject(patchName)?null==pano.getMediaObject(patchName).lastElementChild.attributes.src.nodeValue||null==pano.getMediaObject(patchName).lastElementChild.attributes.src.nodeValue||null==pano.getMediaObject(patchName)?1!=pano.getVariableValue("floorplan_full")&&$(".ggskin_external").css({visibility:"visible"}):(pano.setMediaVisibility(allVideos[allVideos.indexOf(pano.getNodeUserdata(currentNode).title)],1),tmpID=pano.getMediaObject(patchName).lastElementChild.attributes.src.nodeValue,$('.ggmedia > source[src="'+tmpID+'"]').parent().attr("id","vid1"),vid=document.getElementById("vid1"),videoDuration=vid.duration,videoDurationHalf=videoDuration/2-.2,0==dataModelUpdating&&($("#progress").remove(),1!=pano.getVariableValue("floorplan_full")&&$(".ggskin_external").css({visibility:"visible"}))):($("#progress").remove(),1!=pano.getVariableValue("floorplan_full")&&$(".ggskin_external").css({visibility:"visible"}))}))}$("#progress").remove()})),pano.on("varchanged_mobile_menu_active",(function(){switch(pano.getVariableValue("mobile_menu_active")){case!0:$(".viva-start").addClass("hidden");break}}))})),pano.addListener("varchanged_houseInfo",(function(){switch(pano.getVariableValue("houseInfo")){case!0:switch(ShowElement([".viva-house-info"]),pano.getVariableValue("tagValue")){case"Monitor":$(".viva-house-info").addClass("yt-only");break;default:$(".viva-house-info").removeClass("yt-only");break}variableTrue(["blurred"]),$(".ggskin_hotspot, .ggskin_external").css({visibility:"hidden"});break;case!1:$("#yt").attr("src",""),showVivaIntro(),variableFalse(["blurred"]),HideElement([".viva-house-info"]),setTimeout((()=>{$(".ggskin_hotspot, .ggskin_external").css({visibility:"visible"})}),250);break}}));