pano.addListener("varchanged_footer_layers",(function(){switch(pano.getVariableValue("footer_layers")){case!0:HideElement([".map-side",".attributes-side",".shortcuts"]),ShowElement([".layers-side"]),variableFalse(["footer_map","footer_cart","footer_apartments","attributes_side"]),$(".left-side > .item").not(".floorplan").removeClass("active"),addClass([".layers",".hlp-layer"],"active");break;case!1:1==pano.getVariableValue("footer_floorplan")||1==pano.getVariableValue("footer_map")||1==pano.getVariableValue("footer_chatbot")||1==pano.getVariableValue("footer_social")||1==pano.getVariableValue("attributes_side")||1==pano.getVariableValue("footer_apartments")?(removeClass([".layers"],"active"),HideElement([".layers-side"])):(removeClass([".layers",".hlp-layer"],"active"),HideElement([".layers-side"])),ShowElement([".shortcuts"]);break}})),pano.on("changenode",(function(){$(".check-layer").removeClass("active"),$("span.active").closest(".check-layer").addClass("active")})),$(".layers-wrapper > .layer").on("click touchstart",(function(e){$(".layers-wrapper > .layer").removeClass("active"),$(this).addClass("active")})),$(".full-pano").on("click touchstart",(function(){"layer-pure"==pano.getNodeUserdata(pano.getCurrentNode()).datetime&&pano.openNext("{"+pano.getLastVisitedNode()+"}")})),$(".pure-pano").on("click touchstart",(function(){switch(pano.getCurrentNode()){case"node1":pano.openNext("{node9}","$(cur)");break;case"node2":case"node8":case"node4":pano.openNext("{node10}","$(cur)");break;default:break}}));