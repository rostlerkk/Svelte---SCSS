<?php

$allLinks = array(
    'https://int.baumit.com/api/building-tour-translations?api_token=AP7R6yAeBytyvc0OASz3RhLrAH2CsCGnNDWTeLBAbyW72sMPRCiw4JAKDTz0', 
    'https://baumit.co.uk/api/building-tour-translations?api_token=xF8BmqraDqPNxx4LfcepYpqGde0oPbu7kRtARznJxxFTiD1PukPbcdZl9cPg', 
    'https://baumit.sk/api/building-tour-translations?api_token=uuPus1j6IOdtp9p5EKzpusgd2TlXMuDK7C33qC8yof4IvMNCyzIPQEV9dfSI', 
    'https://baumit.cz/api/building-tour-translations?api_token=ZsqPYpxsPHK3EpNwK6l7nOOyoTHIrw21Aw2pAh10BfV3mSl8he06rz1IsJNA', 
    'https://baumit.at/api/building-tour-translations?api_token=EJVpr39eQqgZ3CtFudtsOA3QurptILYv6aLjQvOh9DX8VoAvNrRthOJyBXAu', 
    'https://baumit.de/api/building-tour-translations?api_token=bF6JRVySe9U1xOMWi2Kc8I5pzzgZcjT9LG0F1PrmDkOPHI9nKUBv5It3bjlY', 
    'https://baumit.hr/api/building-tour-translations?api_token=KdZMZzWIYcj4AVjJ3VK6WvV2zCCQfx5jzDqgXk1A1Er013JaTbqlSuDLPcTZ', 
    'https://baumit.rs/api/building-tour-translations?api_token=FEVesKJGbx1bEm9hsXijIZwV9E332FtvbFA01YxtKjEi1Sw3AMdT6Gp1uFMk', 
    'https://baumit.si/api/building-tour-translations?api_token=izOhuLDDFGmEeOTxj3s3x31ZTjgI4Ck5zfqK3X5cAlpgPW5piIxtGwtdX2ZH', 
    'https://baumit.ba/api/building-tour-translations?api_token=Sjuab7GbAKhg6XNFGkQgLJEJXAxQ6Omwru89ErJ48AfX5uvncjpyjdx4K9xY',
    'https://baumit.ua/api/building-tour-translations?api_token=COyMGTwBy8YgEyZanLTWyTuaoGbDpTOB13BNAHAqDNLgU7PzbGouJKYcfZIo',
    'https://baumit.fr/api/building-tour-translations?api_token=e2AwJInW59w310Ve0DUEBRLL1Je8eqkf4BTTHwtCbz2YIwjXS20TaMpPHdum',
    'https://baumit.es/api/building-tour-translations?api_token=k2Mb4GufP8ED3B5wRQelPHY9NimPax2VDd8utmZKLNYc3IwdGuCiZRwe7fvF',
    'https://baumit.cn/api/building-tour-translations?api_token=Wf4qqUqX5qoPSvT0EzQezjt2ieaIIOUTNSmHT9VPwCDbJ1tqgmN5E32RuOSz',
    'https://baumit.gr/api/building-tour-translations?api_token=DADpDgerXpQ2QchZMpjN6Rsrx4q1s7m9r1AW4hcpWi2bH9DBfP2j998gJgKl',
    'https://baumit.hu/api/building-tour-translations?api_token=zG3XR4VrL5ZWh7rQlCydbGd0ysYmCziX0VOhyhEx7A3xmE9fysWf9uYhrRQR',
    'https://baumit.com.tr/api/building-tour-translations?api_token=RxX7fNvn9yiRmB3iGZtDYyyiMTA9nUmqXZg7dCoXP55XnOyvXJKEjr12iuhe',
    'https://baumit.ro/api/building-tour-translations?api_token=mrsKaiGNc28HA49VDcZjEnof8uvjJBa4pd45M6McUq0wR8T6gYWCDgsAy3i9',
    'https://baumit.it/api/building-tour-translations?api_token=UYgEsu0OxQv8zkgPnOiVLh0TTGD0aiYe2GVog2o7ithQ8fadPYRr40GNOxDY',
    'https://baumit.pl/api/building-tour-translations?api_token=4vtMautl3wPGnzZLogvUE6x7tZkweWzo7vQBXJCVjZbtjxigxue33NRCahrR',
    'https://baumit.lv/api/building-tour-translations?api_token=UBP0CW3yVvzlw24fmTgFrXIya84dV4rEQIjaCJT4G35BdMRbiVvIYdVb4cSQ',
    'https://baumit.ru/api/building-tour-translations?api_token=llN4GmBb0uWIQlr9lyfaF7qR7DmDs733Fp8wkiJs0sduzwoEG9NBvqYpSONe',
    'https://baumit.by/api/building-tour-translations?api_token=xARlEVKEW4lpeuyGt8Hb8LnY63P9SjMopyEKlemGSOTzsGZ1MD6wIZvCGBs0', // nejde
    'https://baumit.bg/api/building-tour-translations?api_token=cEyeSbL3VQDR9kLRUCWuHIqOT5ID59T05VVbNNbkm0bylEylgIfsDBvpAgqJ', // preložené
    'https://baumit.lt/api/building-tour-translations?api_token=jgqtiedWmx17W0csUqPuaYNf1JqOCAytsdec8k739pljn83OEBft2vixQ9jn',
    'https://baumit.ee/api/building-tour-translations?api_token=7c0WUsKukTHuIw2rix2E7eRfn9wVSrd89hwNJLgtBz4JfHUh2UPclt4bQvZI',
    'https://baumit.mk/api/building-tour-translations?api_token=JhFW6xr1bV0HjEhyCv4pIvK3X9ZMPsa25YaNkjlAPQL2izaZwvaWMNagpO00',
    'https://baumit.be/api/building-tour-translations?api_token=cqElSqSIpHckBG14OZAxTIzUlA4i2lIHaFzMNVYgTW5zfOeyk6FiMIWU1FtP',
    // 'https://baumit.ch/api/building-tour-translations?api_token=PoCX0p3qavOP4RL8Ke7ZiGUhidi6iT69zZ7QHNo8OOiatgjdES4iDXqeEz9p', // dlho načítava
    'https://baumit.md/api/building-tour-translations?api_token=M3Amm8ZznQ3BoROYdKeq2iEtwSjPoFc9Egf4wV8JerAMnkQvbzakElhNHCIS',
    'https://fr.baumit.be/api/building-tour-translations?api_token=M73nHM2cKlyK8WRkmNjGHhhEtgpq5xrvBcwgxrpXCZLoEFyiiLhxaeRTpdt2'
);

$allProductsLinks = array(
    'https://int.baumit.com/api/buildings?api_token=AP7R6yAeBytyvc0OASz3RhLrAH2CsCGnNDWTeLBAbyW72sMPRCiw4JAKDTz0', 
    'https://baumit.co.uk/api/buildings?api_token=xF8BmqraDqPNxx4LfcepYpqGde0oPbu7kRtARznJxxFTiD1PukPbcdZl9cPg', 
    'https://baumit.sk/api/buildings?api_token=uuPus1j6IOdtp9p5EKzpusgd2TlXMuDK7C33qC8yof4IvMNCyzIPQEV9dfSI', 
    'https://baumit.cz/api/buildings?api_token=ZsqPYpxsPHK3EpNwK6l7nOOyoTHIrw21Aw2pAh10BfV3mSl8he06rz1IsJNA', 
    'https://baumit.at/api/buildings?api_token=EJVpr39eQqgZ3CtFudtsOA3QurptILYv6aLjQvOh9DX8VoAvNrRthOJyBXAu', 
    'https://baumit.de/api/buildings?api_token=bF6JRVySe9U1xOMWi2Kc8I5pzzgZcjT9LG0F1PrmDkOPHI9nKUBv5It3bjlY', 
    'https://baumit.hr/api/buildings?api_token=KdZMZzWIYcj4AVjJ3VK6WvV2zCCQfx5jzDqgXk1A1Er013JaTbqlSuDLPcTZ', 
    'https://baumit.rs/api/buildings?api_token=FEVesKJGbx1bEm9hsXijIZwV9E332FtvbFA01YxtKjEi1Sw3AMdT6Gp1uFMk', 
    'https://baumit.si/api/buildings?api_token=izOhuLDDFGmEeOTxj3s3x31ZTjgI4Ck5zfqK3X5cAlpgPW5piIxtGwtdX2ZH', 
    'https://baumit.ba/api/buildings?api_token=Sjuab7GbAKhg6XNFGkQgLJEJXAxQ6Omwru89ErJ48AfX5uvncjpyjdx4K9xY',
    'https://baumit.ua/api/buildings?api_token=COyMGTwBy8YgEyZanLTWyTuaoGbDpTOB13BNAHAqDNLgU7PzbGouJKYcfZIo',
    'https://baumit.fr/api/buildings?api_token=e2AwJInW59w310Ve0DUEBRLL1Je8eqkf4BTTHwtCbz2YIwjXS20TaMpPHdum',
    'https://baumit.es/api/buildings?api_token=k2Mb4GufP8ED3B5wRQelPHY9NimPax2VDd8utmZKLNYc3IwdGuCiZRwe7fvF',
    'https://baumit.cn/api/buildings?api_token=Wf4qqUqX5qoPSvT0EzQezjt2ieaIIOUTNSmHT9VPwCDbJ1tqgmN5E32RuOSz',
    'https://baumit.gr/api/buildings?api_token=DADpDgerXpQ2QchZMpjN6Rsrx4q1s7m9r1AW4hcpWi2bH9DBfP2j998gJgKl',
    'https://baumit.hu/api/buildings?api_token=zG3XR4VrL5ZWh7rQlCydbGd0ysYmCziX0VOhyhEx7A3xmE9fysWf9uYhrRQR',
    'https://baumit.com.tr/api/buildings?api_token=RxX7fNvn9yiRmB3iGZtDYyyiMTA9nUmqXZg7dCoXP55XnOyvXJKEjr12iuhe',
    'https://baumit.ro/api/buildings?api_token=mrsKaiGNc28HA49VDcZjEnof8uvjJBa4pd45M6McUq0wR8T6gYWCDgsAy3i9',
    'https://baumit.it/api/buildings?api_token=UYgEsu0OxQv8zkgPnOiVLh0TTGD0aiYe2GVog2o7ithQ8fadPYRr40GNOxDY',
    'https://baumit.pl/api/buildings?api_token=4vtMautl3wPGnzZLogvUE6x7tZkweWzo7vQBXJCVjZbtjxigxue33NRCahrR',
    'https://baumit.lv/api/buildings?api_token=UBP0CW3yVvzlw24fmTgFrXIya84dV4rEQIjaCJT4G35BdMRbiVvIYdVb4cSQ',
    'https://baumit.ru/api/buildings?api_token=llN4GmBb0uWIQlr9lyfaF7qR7DmDs733Fp8wkiJs0sduzwoEG9NBvqYpSONe',
    'https://baumit.by/api/buildings?api_token=xARlEVKEW4lpeuyGt8Hb8LnY63P9SjMopyEKlemGSOTzsGZ1MD6wIZvCGBs0', // nejde
    'https://baumit.bg/api/buildings?api_token=cEyeSbL3VQDR9kLRUCWuHIqOT5ID59T05VVbNNbkm0bylEylgIfsDBvpAgqJ', // preložené
    'https://baumit.lt/api/buildings?api_token=jgqtiedWmx17W0csUqPuaYNf1JqOCAytsdec8k739pljn83OEBft2vixQ9jn',
    'https://baumit.ee/api/buildings?api_token=7c0WUsKukTHuIw2rix2E7eRfn9wVSrd89hwNJLgtBz4JfHUh2UPclt4bQvZI',
    'https://baumit.mk/api/buildings?api_token=JhFW6xr1bV0HjEhyCv4pIvK3X9ZMPsa25YaNkjlAPQL2izaZwvaWMNagpO00',
    'https://baumit.be/api/buildings?api_token=cqElSqSIpHckBG14OZAxTIzUlA4i2lIHaFzMNVYgTW5zfOeyk6FiMIWU1FtP',
    // 'https://baumit.ch/api/buildings?api_token=PoCX0p3qavOP4RL8Ke7ZiGUhidi6iT69zZ7QHNo8OOiatgjdES4iDXqeEz9p', // dlho načítava
    'https://baumit.md/api/buildings?api_token=M3Amm8ZznQ3BoROYdKeq2iEtwSjPoFc9Egf4wV8JerAMnkQvbzakElhNHCIS',
    'https://fr.baumit.be/api/buildings?api_token=M73nHM2cKlyK8WRkmNjGHhhEtgpq5xrvBcwgxrpXCZLoEFyiiLhxaeRTpdt2'
);

$allSufixes = array('int','uk','sk','cz','at','de','hr','rs','si','ba','ua','fr','es','cn','gr','hu','tr','ro','it','pl','lv','ru','by','bg','lt','ee','mk','be','md','frbe');

$fontSizeFirst = 16;
$fontSizeSecond = 22;

function imagettftextjustified($image, $size, $x, $y, $color, $fontfile, $text){
	// Get height of single line
	$rect = imagettfbbox($size, 0, $fontfile, "Tq");
	$minY = min(array($rect[1],$rect[3],$rect[5],$rect[7]));
	$maxY = max(array($rect[1],$rect[3],$rect[5],$rect[7])); 
	$h1 = $maxY - $minY;
	
	// Get height of two lines
	$rect = imagettfbbox($size, 0, $fontfile, "Tq\nTq");
	$minY = min(array($rect[1],$rect[3],$rect[5],$rect[7]));
	$maxY = max(array($rect[1],$rect[3],$rect[5],$rect[7])); 
	$h2 = $maxY - $minY;
	
	// amount of padding that should be between each line
	$vpadding = $h2 - $h1 - $h1;
	
	// calculate the dimensions of the text itself
	$frect = imagettfbbox($size, 0, $fontfile, $text);
	$minX = min(array($frect[0],$frect[2],$frect[4],$frect[6]));
	$maxX = max(array($frect[0],$frect[2],$frect[4],$frect[6]));
	$text_width = $maxX - $minX;
	
	// left align any line whose whitespace accounts 
	// for this much (percent) of the the line.
	$max_whitespace_pct = 70;
	
	$threshold = $text_width / 100 * $max_whitespace_pct;
	$lines = explode("\n", $text);
	foreach($lines as $line){
		$rect = imagettfbbox($size, 0, $fontfile, $line);
		$minX = min(array($rect[0],$rect[2],$rect[4],$rect[6]));
		$maxX = max(array($rect[0],$rect[2],$rect[4],$rect[6]));
		$minY = min(array($rect[1],$rect[3],$rect[5],$rect[7]));
		$maxY = max(array($rect[1],$rect[3],$rect[5],$rect[7]));
		
		$line_width = $maxX - $minX;
		$line_height = $maxY - $minY; 
		
		$words = explode(" ", $line);
		$word_width = 0;
		$word_data = array();
		foreach($words as $word){
			$rect = imagettfbbox($size, 0, $fontfile, $word);
			$minX = min(array($rect[0],$rect[2],$rect[4],$rect[6]));
			$maxX = max(array($rect[0],$rect[2],$rect[4],$rect[6]));
			$width = $maxX - $minX;
			$word_width += $width;
			$word_data[] = array(
				"width" => $width,
				"word" => $word
			);
		}
		
		$available_space = $text_width - $word_width;
		$_x = $x;
		if($threshold > $available_space && count($words) > 1){
			$total_spaces = count($words) - 1;
			$space_size = $available_space / $total_spaces;
			foreach($word_data as $word){
				imagettftext($image, $size, 0, $_x, $y, $color, $fontfile, $word['word']);
				$_x += ($space_size + $word['width']);
			}
		}else{
			imagettftext($image, $size, 0, $_x, $y, $color, $fontfile, $line);
		}
		$y += ($line_height + $vpadding);
	}
	return $rect;
}

function imagettftextcenter($image, $size, $x, $y, $color, $fontfile, $text){
	// Get height of single line
	$rect = imagettfbbox($size, 0, $fontfile, "Tq");
	$minY = min(array($rect[1],$rect[3],$rect[5],$rect[7]));
	$maxY = max(array($rect[1],$rect[3],$rect[5],$rect[7])); 
	$h1 = $maxY - $minY;
	
	// Get height of two lines
	$rect = imagettfbbox($size, 0, $fontfile, "Tq\nTq");
	$minY = min(array($rect[1],$rect[3],$rect[5],$rect[7]));
	$maxY = max(array($rect[1],$rect[3],$rect[5],$rect[7])); 
	$h2 = $maxY - $minY;
	
	// amount of padding that should be between each line
	$vpadding = $h2 - $h1 - $h1;
	
	// calculate the dimensions of the text itself
	$frect = imagettfbbox($size, 0, $fontfile, $text);
	$minX = min(array($frect[0],$frect[2],$frect[4],$frect[6]));
	$maxX = max(array($frect[0],$frect[2],$frect[4],$frect[6]));
	$text_width = $maxX - $minX;
	
	$text = explode("\n", $text);
	foreach($text as $txt){
		$rect = imagettfbbox($size, 0, $fontfile, $txt);
		$minX = min(array($rect[0],$rect[2],$rect[4],$rect[6]));
		$maxX = max(array($rect[0],$rect[2],$rect[4],$rect[6]));
		$minY = min(array($rect[1],$rect[3],$rect[5],$rect[7]));
		$maxY = max(array($rect[1],$rect[3],$rect[5],$rect[7])); 
		
		$width = $maxX - $minX;
		$height = $maxY - $minY; 
		
		$_x = $x + (($text_width - $width) / 2);
		
		imagettftext($image, $size, 0, $_x, $y, $color, $fontfile, $txt);
		$y += ($height + $vpadding);
	}
	
	return $rect;
}

function imagettftextright($image, $size, $x, $y, $color, $fontfile, $text){
	// Get height of single line
	$rect = imagettfbbox($size, 0, $fontfile, "Tq");
	$minY = min(array($rect[1],$rect[3],$rect[5],$rect[7]));
	$maxY = max(array($rect[1],$rect[3],$rect[5],$rect[7])); 
	$h1 = $maxY - $minY;
	
	// Get height of two lines
	$rect = imagettfbbox($size, 0, $fontfile, "Tq\nTq");
	$minY = min(array($rect[1],$rect[3],$rect[5],$rect[7]));
	$maxY = max(array($rect[1],$rect[3],$rect[5],$rect[7])); 
	$h2 = $maxY - $minY;
	
	// amount of padding that should be between each line
	$vpadding = $h2 - $h1 - $h1;
	
	// calculate the dimensions of the text itself
	$frect = imagettfbbox($size, 0, $fontfile, $text);
	$minX = min(array($frect[0],$frect[2],$frect[4],$frect[6]));
	$maxX = max(array($frect[0],$frect[2],$frect[4],$frect[6]));
	$text_width = $maxX - $minX; 
	
	$text = explode("\n", $text);
	foreach($text as $txt){
		$rect = imagettfbbox($size, 0, $fontfile, $txt);
		$minX = min(array($rect[0],$rect[2],$rect[4],$rect[6]));
		$maxX = max(array($rect[0],$rect[2],$rect[4],$rect[6]));
		$minY = min(array($rect[1],$rect[3],$rect[5],$rect[7]));
		$maxY = max(array($rect[1],$rect[3],$rect[5],$rect[7])); 
		
		$width = $maxX - $minX;
		$height = $maxY - $minY; 
		
		$_x = ($x + $text_width) - $width;
		
		imagettftext($image, $size, 0, $_x, $y, $color, $fontfile, $txt);
		$y += ($height + $vpadding);
	}
	
	return $rect;
}

function generatePacht($link, $suffix) {
    $img = imagecreatefrompng("vr_int_08_patch.png");

    $json = file_get_contents($link);
    $data = json_decode($json, true);

    // (B) TEXT & FONT SETTINGS
    $txt = wordwrap($data['house_8_data_method_1'], 30);
    $fontFile = "Montserrat-Regular.ttf"; // CHANGE TO YOUR OWN!
    $fontSize = 16;
    $fontColor = imagecolorallocatealpha($img, 255, 255, 255, 127);
    $angle = 0;

    // (C) CALCULATE TEXT BOX POSITION
    // (C1) GET IMAGE DIMENSIONS
    $iWidth = imagesx($img);
    $iHeight = imagesy($img);

    // (C2) GET TEXT BOX DIMENSIONS
    $tSize = imagettfbbox($fontSize, $angle, $fontFile, $txt);
    // $tWidth = max([$tSize[2], $tSize[4]]) - min([$tSize[0], $tSize[6]]);
    // $tHeight = max([$tSize[5], $tSize[7]]) - min([$tSize[1], $tSize[3]]);

    $tWidth = 300;
    $tHeight = 300;

    // (C3) CENTER THE TEXT BLOCK
    $centerX = CEIL(($iWidth - $tWidth) / 2);
    $centerX = $centerX<0 ? 0 : $centerX;
    $centerY = CEIL(($iHeight - $tHeight) / 2);
    $centerY = $centerY<0 ? 0 : $centerY;

    

    // (D) DRAW TEXT ON IMAGE
    $blue = imagecolorallocatealpha($img, 25, 25, 112, 1);
    imagettftext($img, $fontSize, $angle, 20, 50, $blue, $fontFile, $txt);

    
    imagealphablending($img, true);
    
    //imagestring($img,  16 , 20 , 50 , $txt , $blue );

    // (E) OUTPUT IMAGE
    // header("Content-type: image/jpeg");
    // imagejpeg($img);
    // imagedestroy($img);
    $quality = 100; // 0 to 100
    imagepng($img, "media/vr_int_08_patch_".$suffix.".png", -1, -1);

    // header("Content-type: image/png");
    // imagepng($img);
    // imagedestroy($img);
    
}

function generatePacht0($link, $suffix, $fontSizeFirst) {
    $json = file_get_contents($link);
    $data = json_decode($json, true);
    $font = "Montserrat-Regular.ttf"; //font path
    $fontsize=26; // size of your font

    $imageWidth=900; //width of your image
    $imageHeight=450;// height of your image
    $logoimg = imagecreatetruecolor($imageWidth, $imageHeight); //create Image
    //for transparent background
    imagealphablending($logoimg, false);
    imagesavealpha($logoimg, true);
    $col=imagecolorallocatealpha($logoimg,255,255,255,127);
    imagefill($logoimg, 0, 0, $col);
    
    //for transparent background
    $white = imagecolorallocate($logoimg, 80,80,80); //for font color
    
    $text= wordwrap($data['house_8_data_method_1'], 50); //your text which you want to show in image
    
    
    
    $x=10; // x- position of your text
    $y=40; // y- position of your text
    $angle=0; //angle of your text 

    $box = imagettfbbox($fontsize, 0, $font, $text);
    $text_width = abs($box[2]) - abs($box[0]);
    $text_height = abs($box[5]) - abs($box[3]);
    $image_width = imagesx($logoimg);
    $image_height = imagesy($logoimg);
    $x = ($image_width - $text_width) / 2;
    $y = ($image_height + $text_height) / 2;

    imagettftextcenter($logoimg, $fontsize, $x, $y, $white, $font, $text); //fill text in your image
    imagepng($logoimg, "media/vr_int_08_patch0_".$suffix.".png");
}

function generatePacht1($link, $suffix, $fontSizeFirst) {
    $json = file_get_contents($link);
    $data = json_decode($json, true);
    echo $data['start_tour'];
    $font = "Poppins-Bold.ttf"; //font path
    $fontsize=40; // size of your font

    $imageWidth=816; //width of your image
    $imageHeight=100;// height of your image
    $logoimg = imagecreatetruecolor($imageWidth, $imageHeight); //create Image
    //for transparent background
    imagealphablending($logoimg, false);
    imagesavealpha($logoimg, true);
    $col=imagecolorallocatealpha($logoimg,255,255,255,127);
    imagefill($logoimg, 0, 0, $col);
    
    //for transparent background
    $white = imagecolorallocate($logoimg, 90,142,25); //for font color
    
    //$text= wordwrap($data['house_8_data_method_1'], 38); //your text which you want to show in image
    $text= wordwrap($data['additional_content'][42]['title'], 30); //your text which you want to show in image
    
    
    $x=10; // x- position of your text
    $y=40; // y- position of your text
    $angle=0; //angle of your text 

    $box = imagettfbbox($fontsize, 0, $font, $text);
    $text_width = abs($box[2]) - abs($box[0]);
    $text_height = abs($box[5]) - abs($box[3]);
    $image_width = imagesx($logoimg);
    $image_height = imagesy($logoimg);
    $x = ($image_width - $text_width) / 2;
    $y = ($image_height + $text_height) / 2;

    imagettftext($logoimg, $fontsize,$angle , $x, $y, $white, $font, $text); //fill text in your image
    imagepng($logoimg, "media/vr_int_08_patch1_".$suffix.".png");
}

function generatePacht2($link, $suffix, $fontSizeFirst) {
    $json = file_get_contents($link);
    $data = json_decode($json, true);
    $font = "Poppins-Bold.ttf"; //font path
    $fontsize=$fontSizeFirst; // size of your font

    $imageWidth=544; //width of your image
    $imageHeight=100;// height of your image
    $logoimg = imagecreatetruecolor($imageWidth, $imageHeight); //create Image
    //for transparent background
    imagealphablending($logoimg, false);
    imagesavealpha($logoimg, true);
    $col=imagecolorallocatealpha($logoimg,255,255,255,127);
    imagefill($logoimg, 0, 0, $col);
    
    //for transparent background
    $white = imagecolorallocate($logoimg, 51,49,49); //for font color
    
    $text= wordwrap($data['additional_content'][45]['title'], 30); //your text which you want to show in image
    
    
    $x=10; // x- position of your text
    $y=40; // y- position of your text
    $angle=0; //angle of your text 

    $box = imagettfbbox($fontsize, 0, $font, $text);
    $text_width = abs($box[2]) - abs($box[0]);
    $text_height = abs($box[5]) - abs($box[3]);
    $image_width = imagesx($logoimg);
    $image_height = imagesy($logoimg);
    $x = ($image_width - $text_width) / 2;
    $y = ($image_height + $text_height) / 2;


    imagettftext($logoimg, $fontsize,$angle , $x, $y, $white, $font, $text); //fill text in your image
    imagepng($logoimg, "media/vr_int_08_patch2_".$suffix.".png");
}

function generatePacht3($link, $suffix, $fontSizeFirst) {
    $json = file_get_contents($link);
    $data = json_decode($json, true);
    $font = "Poppins-Bold.ttf"; //font path
    $fontsize=$fontSizeFirst; // size of your font

    $imageWidth=432; //width of your image
    $imageHeight=100;// height of your image
    $logoimg = imagecreatetruecolor($imageWidth, $imageHeight); //create Image
    //for transparent background
    imagealphablending($logoimg, false);
    imagesavealpha($logoimg, true);
    $col=imagecolorallocatealpha($logoimg,255,255,255,127);
    imagefill($logoimg, 0, 0, $col);
    
    //for transparent background
    $white = imagecolorallocate($logoimg, 51,49,49); //for font color
    
    $text= wordwrap($data['additional_content'][46]['title'], 30); //your text which you want to show in image
    
    
    $x=10; // x- position of your text
    $y=40; // y- position of your text
    $angle=0; //angle of your text 

    $box = imagettfbbox($fontsize, 0, $font, $text);
    $text_width = abs($box[2]) - abs($box[0]);
    $text_height = abs($box[5]) - abs($box[3]);
    $image_width = imagesx($logoimg);
    $image_height = imagesy($logoimg);
    $x = ($image_width - $text_width) / 2;
    $y = ($image_height + $text_height) / 2;

    imagettftext($logoimg, $fontsize,$angle , $x, $y, $white, $font, $text); //fill text in your image
    imagepng($logoimg, "media/vr_int_08_patch3_".$suffix.".png");
}

function generatePacht4($link, $suffix, $fontSizeFirst) {
    $json = file_get_contents($link);
    $data = json_decode($json, true);
    $font = "Poppins-Bold.ttf"; //font path
    $fontsize=$fontSizeFirst; // size of your font

    $imageWidth=416; //width of your image
    $imageHeight=100;// height of your image
    $logoimg = imagecreatetruecolor($imageWidth, $imageHeight); //create Image
    //for transparent background
    imagealphablending($logoimg, false);
    imagesavealpha($logoimg, true);
    $col=imagecolorallocatealpha($logoimg,255,255,255,127);
    imagefill($logoimg, 0, 0, $col);
    
    //for transparent background
    $white = imagecolorallocate($logoimg, 51,49,49); //for font color
    
    $text= wordwrap($data['additional_content'][44]['title'], 30); //your text which you want to show in image
    
    
    $x=10; // x- position of your text
    $y=40; // y- position of your text
    $angle=0; //angle of your text 

    $box = imagettfbbox($fontsize, 0, $font, $text);
    $text_width = abs($box[2]) - abs($box[0]);
    $text_height = abs($box[5]) - abs($box[3]);
    $image_width = imagesx($logoimg);
    $image_height = imagesy($logoimg);
    $x = ($image_width - $text_width) / 2;
    $y = ($image_height + $text_height) / 2;

    imagettftext($logoimg, $fontsize,$angle , $x, $y, $white, $font, $text); //fill text in your image
    imagepng($logoimg, "media/vr_int_08_patch4_".$suffix.".png");
}

function generatePacht5($link, $suffix, $fontSizeFirst) {
    $json = file_get_contents($link);
    $data = json_decode($json, true);
    $font = "Poppins-Bold.ttf"; //font path
    $fontsize=40; // size of your font

    $imageWidth=999; //width of your image
    $imageHeight=100;// height of your image
    $logoimg = imagecreatetruecolor($imageWidth, $imageHeight); //create Image
    //for transparent background
    imagealphablending($logoimg, false);
    imagesavealpha($logoimg, true);
    $col=imagecolorallocatealpha($logoimg,255,255,255,127);
    imagefill($logoimg, 0, 0, $col);
    
    //for transparent background
    $white = imagecolorallocate($logoimg, 90,142,25); //for font color
    
    $text= wordwrap($data['additional_content'][43]['title'], 30); //your text which you want to show in image
    
    
    $x=10; // x- position of your text
    $y=40; // y- position of your text
    $angle=0; //angle of your text 

    $box = imagettfbbox($fontsize, 0, $font, $text);
    $text_width = abs($box[2]) - abs($box[0]);
    $text_height = abs($box[5]) - abs($box[3]);
    $image_width = imagesx($logoimg);
    $image_height = imagesy($logoimg);
    $x = ($image_width - $text_width) / 2;
    $y = ($image_height + $text_height) / 2;

    imagettftext($logoimg, $fontsize,$angle , $x, $y, $white, $font, $text); //fill text in your image
    imagepng($logoimg, "media/vr_int_08_patch5_".$suffix.".png");
}

function generatePacht6($link, $suffix, $fontSizeFirst) {
    $json = file_get_contents($link);
    $data = json_decode($json, true);
    $font = "Montserrat-Regular.ttf"; //font path
    $fontsize=24; // size of your font

    $imageWidth=999; //width of your image
    $imageHeight=350;// height of your image
    $logoimg = imagecreatetruecolor($imageWidth, $imageHeight); //create Image
    //for transparent background
    imagealphablending($logoimg, false);
    imagesavealpha($logoimg, true);
    $col=imagecolorallocatealpha($logoimg,255,255,255,127);
    imagefill($logoimg, 0, 0, $col);
    
    //for transparent background
    $white = imagecolorallocate($logoimg, 80,80,80); //for font color
    
    $text= wordwrap($data['additional_content'][43]['content'], 30); //your text which you want to show in image
    
    
    $x=10; // x- position of your text
    $y=40; // y- position of your text
    $angle=0; //angle of your text 

    $box = imagettfbbox($fontsize, 0, $font, $text);
    $text_width = abs($box[2]) - abs($box[0]);
    $text_height = abs($box[5]) - abs($box[3]);
    $image_width = imagesx($logoimg);
    $image_height = imagesy($logoimg);
    $x = ($image_width - $text_width) / 2;
    $y = ($image_height + $text_height) / 2;

    imagettftextcenter($logoimg, $fontsize, $x, $y, $white, $font, $text); //fill text in your image
    imagepng($logoimg, "media/vr_int_08_patch6_".$suffix.".png");
}

function generatePacht7($link, $suffix, $fontSizeFirst) {
    $json = file_get_contents($link);
    $data = json_decode($json, true);
    $font = "Poppins-Bold.ttf"; //font path
    $fontsize=40; // size of your font

    $imageWidth=816; //width of your image
    $imageHeight=300;// height of your image
    $logoimg = imagecreatetruecolor($imageWidth, $imageHeight); //create Image
    //for transparent background
    imagealphablending($logoimg, false);
    imagesavealpha($logoimg, true);
    $col=imagecolorallocatealpha($logoimg,255,255,255,127);
    imagefill($logoimg, 0, 0, $col);
    
    //for transparent background
    $white = imagecolorallocate($logoimg, 53,166,255); //for font color
    
    //$text= wordwrap($data['additional_content'][43]['content'], 30); //your text which you want to show in image
    $text= wordwrap('A waterfall of Ions for Healthy Air', 30);
    
    
    $x=10; // x- position of your text
    $y=40; // y- position of your text
    $angle=0; //angle of your text 

    $box = imagettfbbox($fontsize, 0, $font, $text);
    $text_width = abs($box[2]) - abs($box[0]);
    $text_height = abs($box[5]) - abs($box[3]);
    $image_width = imagesx($logoimg);
    $image_height = imagesy($logoimg);
    $x = ($image_width - $text_width) / 2;
    $y = ($image_height + $text_height) / 2;

    imagettftextcenter($logoimg, $fontsize, $x, $y, $white, $font, $text); //fill text in your image
    imagepng($logoimg, "media/vr_int_02_patch1_".$suffix.".png");
}

function generatePacht8($link, $suffix, $fontSizeFirst) {
    $json = file_get_contents($link);
    $data = json_decode($json, true);
    $font = "Poppins-Bold.ttf"; //font path
    $fontsize=40; // size of your font

    $imageWidth=816; //width of your image
    $imageHeight=300;// height of your image
    $logoimg = imagecreatetruecolor($imageWidth, $imageHeight); //create Image
    //for transparent background
    imagealphablending($logoimg, false);
    imagesavealpha($logoimg, true);
    $col=imagecolorallocatealpha($logoimg,255,255,255,127);
    imagefill($logoimg, 0, 0, $col);
    
    //for transparent background
    $white = imagecolorallocate($logoimg, 90,142,25); //for font color
    
    //$text= wordwrap($data['additional_content'][43]['content'], 30); //your text which you want to show in image
    $text= wordwrap($data['additional_content'][27]['title'], 30);
    
    
    $x=10; // x- position of your text
    $y=40; // y- position of your text
    $angle=0; //angle of your text 

    $box = imagettfbbox($fontsize, 0, $font, $text);
    $text_width = abs($box[2]) - abs($box[0]);
    $text_height = abs($box[5]) - abs($box[3]);
    $image_width = imagesx($logoimg);
    $image_height = imagesy($logoimg);
    $x = ($image_width - $text_width) / 2;
    $y = ($image_height + $text_height) / 2;

    imagettftextcenter($logoimg, $fontsize, $x, $y, $white, $font, $text); //fill text in your image
    imagepng($logoimg, "media/vr_int_04_patch1_".$suffix.".png");
}

    for($i = 0;$i < count($allLinks);$i++) {
        generatePacht0($allLinks[$i], $allSufixes[$i], $fontSizeFirst);
        generatePacht1($allProductsLinks[$i], $allSufixes[$i], $fontSizeFirst);
        generatePacht2($allProductsLinks[$i], $allSufixes[$i], $fontSizeSecond);
        generatePacht3($allProductsLinks[$i], $allSufixes[$i], $fontSizeSecond);
        generatePacht4($allProductsLinks[$i], $allSufixes[$i], $fontSizeSecond);
        generatePacht5($allProductsLinks[$i], $allSufixes[$i], $fontSizeSecond);
        generatePacht6($allProductsLinks[$i], $allSufixes[$i], $fontSizeSecond);
        generatePacht7($allProductsLinks[$i], $allSufixes[$i], $fontSizeSecond);
        generatePacht8($allProductsLinks[$i], $allSufixes[$i], $fontSizeSecond);
    }
    





