var dataModelUpdating=!1;let allVideos=["Exterier_01","Exterier_02","Exterier_03","Exterier_04","Exterier_05","Exterier_06","Exterier_07","Exterier_08","Exterier_09","Exterier_10","Exterier_11","Exterier_12","Exterier_13","Interier_01","Interier_02","Interier_03","Interier_04","Interier_05","Interier_06","Interier_07","Interier_08","Interier_09","Interier_11","Interier_12","Interier_13"];var patchName,vid,tmpID,play=!0,videoDuration=0,videoDurationHalf=0,dataModel={},houseID="",loader='<img src="images/loader.svg" class="hotspot-loader">',hotspotsArray=[],apiToken={tokenCZ:"ZsqPYpxsPHK3EpNwK6l7nOOyoTHIrw21Aw2pAh10BfV3mSl8he06rz1IsJNA",tokenSK:"uuPus1j6IOdtp9p5EKzpusgd2TlXMuDK7C33qC8yof4IvMNCyzIPQEV9dfSI",tokenAT:"EJVpr39eQqgZ3CtFudtsOA3QurptILYv6aLjQvOh9DX8VoAvNrRthOJyBXAu",tokenDE:"bF6JRVySe9U1xOMWi2Kc8I5pzzgZcjT9LG0F1PrmDkOPHI9nKUBv5It3bjlY",tokenHR:"KdZMZzWIYcj4AVjJ3VK6WvV2zCCQfx5jzDqgXk1A1Er013JaTbqlSuDLPcTZ",tokenRS:"FEVesKJGbx1bEm9hsXijIZwV9E332FtvbFA01YxtKjEi1Sw3AMdT6Gp1uFMk",tokenSI:"izOhuLDDFGmEeOTxj3s3x31ZTjgI4Ck5zfqK3X5cAlpgPW5piIxtGwtdX2ZH",tokenBA:"Sjuab7GbAKhg6XNFGkQgLJEJXAxQ6Omwru89ErJ48AfX5uvncjpyjdx4K9xY",tokenINT:"AP7R6yAeBytyvc0OASz3RhLrAH2CsCGnNDWTeLBAbyW72sMPRCiw4JAKDTz0",tokenUA:"COyMGTwBy8YgEyZanLTWyTuaoGbDpTOB13BNAHAqDNLgU7PzbGouJKYcfZIo",tokenFR:"e2AwJInW59w310Ve0DUEBRLL1Je8eqkf4BTTHwtCbz2YIwjXS20TaMpPHdum",tokenES:"k2Mb4GufP8ED3B5wRQelPHY9NimPax2VDd8utmZKLNYc3IwdGuCiZRwe7fvF",tokenCN:"Wf4qqUqX5qoPSvT0EzQezjt2ieaIIOUTNSmHT9VPwCDbJ1tqgmN5E32RuOSz",tokenGR:"DADpDgerXpQ2QchZMpjN6Rsrx4q1s7m9r1AW4hcpWi2bH9DBfP2j998gJgKl",tokenHU:"zG3XR4VrL5ZWh7rQlCydbGd0ysYmCziX0VOhyhEx7A3xmE9fysWf9uYhrRQR",tokenTR:"RxX7fNvn9yiRmB3iGZtDYyyiMTA9nUmqXZg7dCoXP55XnOyvXJKEjr12iuhe",tokenRO:"mrsKaiGNc28HA49VDcZjEnof8uvjJBa4pd45M6McUq0wR8T6gYWCDgsAy3i9",tokenUK:"xF8BmqraDqPNxx4LfcepYpqGde0oPbu7kRtARznJxxFTiD1PukPbcdZl9cPg",tokenIT:"UYgEsu0OxQv8zkgPnOiVLh0TTGD0aiYe2GVog2o7ithQ8fadPYRr40GNOxDY",tokenPL:"4vtMautl3wPGnzZLogvUE6x7tZkweWzo7vQBXJCVjZbtjxigxue33NRCahrR",tokenLV:"UBP0CW3yVvzlw24fmTgFrXIya84dV4rEQIjaCJT4G35BdMRbiVvIYdVb4cSQ",tokenRU:"llN4GmBb0uWIQlr9lyfaF7qR7DmDs733Fp8wkiJs0sduzwoEG9NBvqYpSONe",tokenBY:"xARlEVKEW4lpeuyGt8Hb8LnY63P9SjMopyEKlemGSOTzsGZ1MD6wIZvCGBs0",tokenBG:"cEyeSbL3VQDR9kLRUCWuHIqOT5ID59T05VVbNNbkm0bylEylgIfsDBvpAgqJ",tokenLT:"jgqtiedWmx17W0csUqPuaYNf1JqOCAytsdec8k739pljn83OEBft2vixQ9jn",tokenEE:"7c0WUsKukTHuIw2rix2E7eRfn9wVSrd89hwNJLgtBz4JfHUh2UPclt4bQvZI",tokenMK:"JhFW6xr1bV0HjEhyCv4pIvK3X9ZMPsa25YaNkjlAPQL2izaZwvaWMNagpO00",tokenBENL:"cqElSqSIpHckBG14OZAxTIzUlA4i2lIHaFzMNVYgTW5zfOeyk6FiMIWU1FtP",tokenCH:"PoCX0p3qavOP4RL8Ke7ZiGUhidi6iT69zZ7QHNo8OOiatgjdES4iDXqeEz9p",tokenMD:"M3Amm8ZznQ3BoROYdKeq2iEtwSjPoFc9Egf4wV8JerAMnkQvbzakElhNHCIS",tokenBEFR:"M73nHM2cKlyK8WRkmNjGHhhEtgpq5xrvBcwgxrpXCZLoEFyiiLhxaeRTpdt2"},productSuffix={cz:"BCZ",sk:"BSK",at:"BAT",de:"BDE",hr:"BHR",rs:"BRS",si:"BSI",ba:"BBA",int:"INT",ua:"BUA",fr:"BFR",es:"BES",cn:"BCN",gr:"BGR",hu:"BHU",tr:"BTR",ro:"BRO",uk:"BUK",it:"BIT",pl:"BPL",lv:"BLV",ru:"BRU",by:"BBY",bg:"BBG",lt:"BLT",ee:"BEE",mk:"BMK",beNl:"BBE",ch:"BCH",md:"BRO",beFr:"BBE"},urlPrefix={en:"https://baumit.co.uk",sk:"https://baumit.sk",cz:"https://baumit.cz",at:"https://baumit.at",de:"https://baumit.de",hr:"https://baumit.hr",rs:"https://baumit.rs",si:"https://baumit.si",ba:"https://baumit.ba",ua:"https://baumit.ua",fr:"https://baumit.fr",es:"https://baumit.es",cn:"https://baumit.cn",gr:"https://baumit.gr",hu:"https://baumit.hu",tr:"https://baumit.com.tr",ro:"https://baumit.ro",uk:"https://baumit.co.uk",it:"https://baumit.it",pl:"https://baumit.pl",lv:"https://baumit.lv",ru:"https://baumit.ru",by:"https://baumit.by",bg:"https://baumit.bg",lt:"https://baumit.lt",ee:"https://baumit.ee",mk:"https://baumit.mk",nl:"https://baumit.nl",ch:"https://baumit.ch",md:"https://baumit.md",be_fr:"https://baumit.fr",int:"https://int.baumit.com"},moreInfoButton={cz:"VÃ­ce info",sk:"Viac info",uk:"More info"},jsonUrl="https://dev.baumit.",liveServerUrl="https://baumit.",key="&pro_epim_productnr",productNameSave="",productLang="";function comfortLevel(e){window.randomize=function(){$(".ko-progress-circle").attr("data-progress",e)},setTimeout(window.randomize,200),$(".ko-progress-circle").click(window.randomize)}function comfortLevelSwitch(e){switch(dataModel[pano.getVariableValue("lang")][e]["House Comfort"]){case"High":$("#viva-second").removeClass("hidden"),$(".house-tooltip-inner").text("High"),comfortLevel(100);break;case"Low":$("#viva-second").removeClass("hidden"),$(".house-tooltip-inner").text("Low"),comfortLevel(30);break;case"Medium":$("#viva-second").removeClass("hidden"),$(".house-tooltip-inner").text("Medium"),comfortLevel(60);break;case"":$("#viva-second").addClass("hidden"),comfortLevel(0);break}}function playPauseMedia(){0==videoDuration||0==videoDurationHalf||1==pano.isPlaying(patchName)||(vid.ontimeupdate=function(){if(1==play||0==pano.isPlaying(patchName)){if(this.currentTime>=videoDurationHalf)return pano.pauseSound(patchName),play=!1,$(".viva-tooltip").removeClass("hidden"),!1}else $(".viva-tooltip").addClass("hidden"),pano.getMediaObject(patchName).addEventListener("ended",(function(){$(".viva-tooltip").addClass("hidden"),play=!0,$(".viva-tooltip").addClass("hidden")}))},pano.playSound(patchName,"1"))}function nacitajData(e){if(productNameSave==e&&productLang==pano.getVariableValue("lang"))$(".hotspot-loader").remove(),pano.setVariableValue("infopanel",!0);else if(""==e||null==e||null==e);else{switch($(".info-v1 > .head > .content > h2").empty(),$(".info-v1 > .head > .content > a").remove(),$(".content > ul").empty(),$(".info-v1 > .body > p").empty(),$(".info-v1 > .head > .baumit-img > img").remove(),pano.setVariableValue("infopanel",!0),lang=pano.getVariableValue("lang"),lang){case"sk":url=liveServerUrl+"sk/api/products/products?api_token="+apiToken.tokenSK;break;case"cz":url=liveServerUrl+"cz/api/products/products?api_token="+apiToken.tokenCZ;break;case"at":url=liveServerUrl+"at/api/products/products?api_token="+apiToken.tokenAT;break;case"de":url=liveServerUrl+"de/api/products/products?api_token="+apiToken.tokenDE;break;case"en":url="https://baumit.co.uk/api/products/products?api_token="+apiToken.tokenEN;break;case"hr":url=liveServerUrl+"hr/api/products/products?api_token="+apiToken.tokenHR;break;case"rs":url=liveServerUrl+"rs/api/products/products?api_token="+apiToken.tokenRS;break;case"si":url=liveServerUrl+"si/api/products/products?api_token="+apiToken.tokenSI;break;case"ba":url=liveServerUrl+"ba/api/products/products?api_token="+apiToken.tokenBA;break;case"ua":url=liveServerUrl+"ua/api/products/products?api_token="+apiToken.tokenUA;break;case"fr":url=liveServerUrl+"fr/api/products/products?api_token="+apiToken.tokenFR;break;case"es":url=liveServerUrl+"es/api/products/products?api_token="+apiToken.tokenES;break;case"cn":url=liveServerUrl+"cn/api/products/products?api_token="+apiToken.tokenCN;break;case"gr":url=liveServerUrl+"gr/api/products/products?api_token="+apiToken.tokenGR;break;case"hu":url=liveServerUrl+"hu/api/products/products?api_token="+apiToken.tokenHU;break;case"tr":url="https://baumit.com.tr/api/products/products?api_token="+apiToken.tokenTR;break;case"ro":url=liveServerUrl+"ro/api/products/products?api_token="+apiToken.tokenRO;break;case"uk":url=liveServerUrl+"co.uk/api/products/products?api_token="+apiToken.tokenUK;break;case"it":url=liveServerUrl+"it/api/products/products?api_token="+apiToken.tokenIT;break;case"pl":url=liveServerUrl+"pl/api/products/products?api_token="+apiToken.tokenPL;break;case"lv":url=liveServerUrl+"lv/api/products/products?api_token="+apiToken.tokenLV;break;case"ru":url=liveServerUrl+"ru/api/products/products?api_token="+apiToken.tokenRU;break;case"by":url=liveServerUrl+"by/api/products/products?api_token="+apiToken.tokenBY;break;case"bg":url=liveServerUrl+"bg/api/products/products?api_token="+apiToken.tokenBG;break;case"lt":url=liveServerUrl+"lt/api/products/products?api_token="+apiToken.tokenLT;break;case"ee":url=liveServerUrl+"ee/api/products/products?api_token="+apiToken.tokenEE;break;case"mk":url=liveServerUrl+"mk/api/products/products?api_token="+apiToken.tokenMK;break;case"beNl":url="https://baumit.be/api/products/products?api_token="+apiToken.tokenBENL;break;case"ch":url="https://ch.baumit.com/api/products/products?api_token="+apiToken.tokenCH;break;case"md":url=liveServerUrl+"md/api/products/products?api_token="+apiToken.tokenMD;break;case"beFr":url="https://fr.baumit.be/api/products/products?api_token="+apiToken.tokenBEFR;break;case"int":url="https://int.baumit.com/api/products/products?api_token="+apiToken.tokenINT;break}productNameSave=e,productLang=pano.getVariableValue("lang"),key=productNameSave+productSuffix[lang];var t="https://int.baumit.com/"+dataModel[lang][key].image;$(".info-v1 > .head > .baumit-img").append("<img class='baumit-img' src='"+t+"'/>");var a=urlPrefix[lang]+dataModel[lang][key].details_url,o=document.createElement("a");$(".info-v1 > .head > .content").append(o),null==moreInfoButton[pano.getVariableValue("lang")]||null==moreInfoButton[pano.getVariableValue("lang")]||"undefined"==moreInfoButton[pano.getVariableValue("lang")]?$(".info-v1 > .head > .content > a").attr("href",a).attr("target","_blank").text(moreInfoButton.uk):$(".info-v1 > .head > .content > a").attr("href",a).attr("target","_blank").text(moreInfoButton[pano.getVariableValue("lang")]),$(".info-v1 > .head > .content > h2").append(dataModel[lang][key].name),$.each(dataModel[lang][key],(function(e,t){var a="";(a=e).includes("product_benefit")&&a.indexOf("description")<1&&$(".content > ul").append("<li><span>"+t+"</span></li>")})),$(".info-v1 > .body > p").append(dataModel[lang][key].description)}}function checkHotspots(){var e;hotspotsArray=[],hotspotsArray=pano.getCurrentPointHotspots();var t=pano.getVariableValue("lang");for(i=0;i<hotspotsArray.length;i++)if(hotspotsArray[i].className.indexOf("delete")<0&&(hotspotsArray[i].className=hotspotsArray[i].className+" delete"),hotspotsArray[i].className.indexOf("viva-tooltip")>-1&&""!=(e=hotspotsArray[i].textContent.substring(hotspotsArray[i].textContent.indexOf("|")+1))&&(hotspotsArray[i].className.indexOf(e)>=0||(hotspotsArray[i].className=hotspotsArray[i].className+" "+e,$("."+e).attr("data-id",e))),""!=e){var a=e+productSuffix[t];if(null==dataModel[pano.getVariableValue("lang")][a]||null==dataModel[pano.getVariableValue("lang")][a]||""==dataModel[pano.getVariableValue("lang")][a]);else{var o='<div class="hts-title">'+dataModel[pano.getVariableValue("lang")][a].name+"</div><span>|"+e+"</span>";$('.viva-tooltip[data-id="'+e+'"] > div > div').html(o),hotspotsArray[i].className=hotspotsArray[i].className.replace("delete","")}}else hotspotsArray.splice(i,1),i--}function houseInfo(e){if(houseIDtitle=pano.getNodeUserdata(pano.getCurrentNode()).comment,pano.setVariableValue("houseInfo",!0),houseID!==e){if($("#container").append(loader),$("#house-url").addClass("hidden"),$(".viva-house-info > div > .content > h1").empty(),$(".viva-house-info > div > .content > .row > p").empty(),$("#yt").attr("src",""),$("#yt-video").addClass("hidden"),comfortLevelSwitch(e),houseID=0==e?0:pano.getNodeUserdata(pano.getCurrentNode()).comment,lang=pano.getVariableValue("lang"),null!=dataModel[lang][houseID]||null!=dataModel[lang][houseID]){if("0"==dataModel[lang][houseID]["House No."]?$(".viva-house-info > div > .content > h1").append(dataModel[lang][houseID].Headline):$(".viva-house-info > div > .content > h1").append(houseIDtitle),$(".viva-house-info > div > .content > .row > p").append(dataModel[lang][houseID].Text),""!=dataModel[lang][houseID].Media){var t="https://www.youtube.com/embed/"+dataModel[lang][houseID].Media.replace("https://youtu.be/",""),a=$("#yt-video").width()/16*9;$("#yt").attr("src",t).css({height:a}),$("#yt-video").removeClass("hidden")}""!=dataModel[lang][houseID].Link&&(null==moreInfoButton[pano.getVariableValue("lang")]||null==moreInfoButton[pano.getVariableValue("lang")]||"undefined"==moreInfoButton[pano.getVariableValue("lang")]?$("#house-url").attr("href",dataModel[lang][houseID].Link).text(moreInfoButton.uk):$("#house-url").attr("href",dataModel[lang][houseID].Link).text(moreInfoButton[pano.getVariableValue("lang")]),$("#house-url").removeClass("hidden"))}$(".hotspot-loader").remove()}}function getLink(e,t,a){switch(e){case"sk":url=t+"sk/api/products/products?api_token="+a.tokenSK;break;case"cz":url=t+"cz/api/products/products?api_token="+a.tokenCZ;break;case"at":url=t+"at/api/products/products?api_token="+a.tokenAT;break;case"de":url=t+"de/api/products/products?api_token="+a.tokenDE;break;case"en":url="https://baumit.co.uk/api/products/products?api_token="+a.tokenEN;break;case"hr":url=t+"hr/api/products/products?api_token="+a.tokenHR;break;case"rs":url=t+"rs/api/products/products?api_token="+a.tokenRS;break;case"si":url=t+"si/api/products/products?api_token="+a.tokenSI;break;case"ba":url=t+"ba/api/products/products?api_token="+a.tokenBA;break;case"ua":url=t+"ua/api/products/products?api_token="+a.tokenUA;break;case"fr":url=t+"fr/api/products/products?api_token="+a.tokenFR;break;case"es":url=t+"es/api/products/products?api_token="+a.tokenES;break;case"cn":url=t+"cn/api/products/products?api_token="+a.tokenCN;break;case"gr":url=t+"gr/api/products/products?api_token="+a.tokenGR;break;case"hu":url=t+"hu/api/products/products?api_token="+a.tokenHU;break;case"tr":url="https://baumit.com.tr/api/products/products?api_token="+a.tokenTR;break;case"ro":url=t+"ro/api/products/products?api_token="+a.tokenRO;break;case"uk":url=t+"co.uk/api/products/products?api_token="+a.tokenUK;break;case"it":url=t+"it/api/products/products?api_token="+a.tokenIT;break;case"pl":url=t+"pl/api/products/products?api_token="+a.tokenPL;break;case"lv":url=t+"lv/api/products/products?api_token="+a.tokenLV;break;case"ru":url=t+"ru/api/products/products?api_token="+a.tokenRU;break;case"by":url=t+"by/api/products/products?api_token="+a.tokenBY;break;case"bg":url=t+"bg/api/products/products?api_token="+a.tokenBG;break;case"lt":url=t+"lt/api/products/products?api_token="+a.tokenLT;break;case"ee":url=t+"ee/api/products/products?api_token="+a.tokenEE;break;case"mk":url=t+"mk/api/products/products?api_token="+a.tokenMK;break;case"beNl":url="https://baumit.be/api/products/products?api_token="+a.tokenBENL;break;case"ch":url="https://ch.baumit.com/api/products/products?api_token="+a.tokenCH;break;case"md":url=t+"md/api/products/products?api_token="+a.tokenMD;break;case"beFr":url="https://fr.baumit.be/api/products/products?api_token="+a.tokenBEFR;break;case"int":url="https://int.baumit.com/api/products/products?api_token="+a.tokenINT;break}return url}function createDataModel(){$(".ggskin_external").css({visibility:"hidden"}),dataModelUpdating=!0,$("#container").append(loader);var e=pano.getVariableValue("lang");if(null==dataModel[e]||null==dataModel[e]||dataModel[e]=={}){dataModel[e]={};getLink(e,liveServerUrl,apiToken),$.getJSON(url,(function(t){$.each(t,(function(a,o){var r=t[a].pro_epim_productnr;if(null==r||null==r||""==r){if(""!=t[a]["House No."]||null!=t[a]["House No."]||null!=t[a]["House No."]){var i=t[a]["House No."];dataModel[e][i]={},dataModel[e][i]={"House No.":t[a]["House No."],Headline:t[a].Headline,Text:t[a].Text,Media:t[a].Media,"House Comfort":t[a]["House Comfort"],Link:t[a].Link}}}else dataModel[e][r]={},dataModel[e][r]={name:t[a].name,epim_name:t[a].epim_name,epim_name:t[a].epim_name,additional_name:t[a].additional_name,description:t[a].description,product_benefit_1:t[a].product_benefit_1,product_benefit_2:t[a].product_benefit_2,product_benefit_3:t[a].product_benefit_3,product_benefit_1:t[a].product_benefit_1,image:t[a].image,details_url:t[a].details_url}})),$(".hotspot-loader").remove(),dataModelUpdating=!1,checkHotspots(),0==pano.getVariableValue("blurred")&&$(".ggskin_external").css({visibility:"visible"})}))}else $(".hotspot-loader").remove(),dataModelUpdating=!1,checkHotspots(),0==pano.getVariableValue("blurred")&&$(".ggskin_external").css({visibility:"visible"})}pano.on("changenode",(function(){if($(".viva-tooltip").addClass("hidden"),"node30"!=pano.getCurrentNode()&&"node31"!=pano.getCurrentNode()&&"node32"!=pano.getCurrentNode()&&"node33"!=pano.getCurrentNode()&&(checkHotspots(),"Exterier_00"!=(patchName=pano.getNodeUserdata(pano.getCurrentNode()).title))){$(".ggskin_external").css({visibility:"hidden"}),$("#container").append(loader),$("#vid").attr("id",""),videoDuration=0,videoDurationHalf=0;for(var e=0;e<allVideos.length;e++)pano.setMediaVisibility(allVideos[e],0);pano.on("tilesready",(function(){play=!0,"node16"!=pano.getCurrentNode()&&"node26"!=pano.getCurrentNode()&&"node30"!=pano.getCurrentNode()&&"node31"!=pano.getCurrentNode()&&"node32"!=pano.getCurrentNode()&&"node33"!=pano.getCurrentNode()?null==pano.getMediaObject(patchName).lastElementChild.attributes.src.nodeValue||null==pano.getMediaObject(patchName).lastElementChild.attributes.src.nodeValue||null==pano.getMediaObject(patchName)?($(".hotspot-loader").remove(),$(".ggskin_external").css({visibility:"visible"})):(pano.setMediaVisibility(allVideos[allVideos.indexOf(pano.getNodeUserdata(pano.getCurrentNode()).title)],1),tmpID=pano.getMediaObject(patchName).lastElementChild.attributes.src.nodeValue,$('.ggmedia > source[src="'+tmpID+'"]').parent().attr("id","vid1"),vid=document.getElementById("vid1"),videoDuration=vid.duration,videoDurationHalf=videoDuration/2-.2,0==dataModelUpdating&&($(".hotspot-loader").remove(),$(".ggskin_external").css({visibility:"visible"}))):($(".hotspot-loader").remove(),$(".ggskin_external").css({visibility:"visible"}))}))}})),pano.addListener("varchanged_lang",(function(){createDataModel()})),pano.addListener("varchanged_houseInfo",(function(){switch(pano.getVariableValue("houseInfo")){case!0:ShowElement([".viva-house-info"]),variableTrue(["blurred"]),$(".ggskin_hotspot, .ggskin_external").css({visibility:"hidden"});break;case!1:variableFalse(["blurred"]),HideElement([".viva-house-info"]),setTimeout((()=>{$(".ggskin_hotspot, .ggskin_external").css({visibility:"visible"})}),250);break}})),createDataModel();